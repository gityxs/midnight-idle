var game_version="0.3.8",save_interval=5,d=null;function up_skill(_){var l=skill[_];null!=l&&void 0!=_&&null!=_&&"null"!=_&&"k1114"!=_&&(null!=l.room||"k11x0066"==_||"k11x0067"==_||"k11x0068"==_||"k11x0069"==_)&&null==l.drain&&null==l.farmable&&null==l.farming&&-1==l.title.indexOf("Animal Planet")&&null!=d.game.perm&&null!=d.game.perm.mem&&(crunpush(_),last_room=_);var k=d.skill.k116.unlock||d.skill.k11x0066.unlock,s=d.skill.k117.unlock||d.skill.k11x0067.unlock,$=d.skill.k1136.unlock||d.skill.k11x0068.unlock;d.skill.k11616.unlock;var i=d.skill.k11x0034.unlock,e=d.skill.k11x0035.unlock,x=d.skill.k11x0044.unlock,u=d.skill.k11x0045.unlock,a=d.skill.k11x0046.unlock,r=d.skill.k11x0047.unlock,g=d.skill.k11x0069.unlock;if(null!=skill[_]&&((1==skill[_].room||"k11x0066"==_||"k11x0067"==_||"k11x0068"==_||"k11x0069"==_)&&null!=d.game.temp&&d.game.temp.retrace==_&&(d.game.temp.retrace=0),null!=skill[_].isnode&&(d.skill[_].auto=1)),"k111"==_&&(d.game.ginfo_open=1,switch_tab(1)),"k112"==_&&(d.skill.k110.speed+=.1,d.skill.k112.cost.k110+=2),"k113"==_&&(d.skill.k110.max+=2,d.skill.k113.cost.k110+=2),"k114"==_&&(d.skill.k110.gain+=.25,d.skill.k114.cost.k110+=2),"k115"==_&&(d.skill.k110.auto=1,skill.k110.text="Blood is gaining automatically.",show_notice(story.n0)),"k116"==_&&(lskill("k117"),d.game.tree.t110>0&&(d.skill.k1114.speed*=3),cleargm()),"k117"==_&&(lskill("k116"),cleargm()),"k118"==_&&(d.skill.k110.gain+=.25,d.skill.k118.cost.k110+=2),"k119"==_&&(d.skill.k110.max+=1,d.skill.k119.cost.k110+=2),"k1110"==_&&uskill("k1114"),"k1111"==_&&(d.skill.k110.speed+=.1,d.skill.k1111.cost.k110+=2),"k1112"==_&&(d.skill.k110.max+=2,d.skill.k1112.cost.k110+=2),"k1113"==_&&uskill("k1114"),"k1114"==_&&(d.skill.k1114.need+=3),"k121"==_&&(uskill("k1121"),uskill("k1122"),uskill("k1123"),1==d.skill.k116.unlock&&uskill("k1124"),1==d.skill.k117.unlock&&(uskill("k1125"),uskill("k1126"))),"k122"==_&&(uskill("k1221"),uskill("k1222"),uskill("k1223"),uskill("k1224"),d.game.tree.t51>0&&(d.skill.k1224.value=1),1==d.skill.k116.unlock&&(uskill("k1225"),uskill("k1226")),1==d.skill.k117.unlock&&uskill("k1227")),"k123"==_&&(uskill("k1116"),uskill("k1117"),1==d.skill.k116.unlock&&uskill("k1118"),1==d.skill.k117.unlock&&uskill("k1119")),"k1121"==_&&(d.skill.k110.speed+=.1,d.skill.k1121.cost.k110+=2),"k1122"==_&&(d.skill.k110.max+=2,d.skill.k1122.cost.k110+=2),"k1123"==_&&(d.skill.k110.gain+=.25,d.skill.k1123.cost.k110+=2),"k1124"==_&&(d.skill.k110.gain+=.25,d.skill.k1124.cost.k110+=2),"k1125"==_&&(d.skill.k110.max+=d.game.tree.t25>0?1+d.game.tree.t25:1,d.skill.k1125.need+=1,d.skill.k1125.cost.k110+=1),"k1126"==_&&(d.skill.k110.speed+=.2,d.skill.k1126.cost.k110+=2),"k1222"==_&&(d.skill.k120.max+=2,d.skill.k1222.cost.k120+=2),"k1223"==_&&(d.skill.k120.gain+=.25,d.skill.k1223.cost.k120+=2),"k1224"==_&&(d.skill.k120.auto=1,skill.k120.text="Sanity is gaining automatically."),"k1225"==_&&(d.skill.k120.gain+=.25,d.skill.k1225.cost.k120+=2),"k1226"==_&&(d.skill.k120.speed+=.2,d.skill.k1226.cost.k120+=2),"k1227"==_&&(null==d.game.battle&&(d.skill.k120.value+=1==d.skill.k12271.value?2:1,checkmax_v("k120")),d.skill.k1227.value=0),"k1228"==_&&(d.skill.k120.max+=1),"k1229"==_&&add_xp(20),"k1116"==_&&(d.skill.k1114.need-=2,d.skill.k1116.cost.k110+=2,d.skill.k1116.cost.k120+=1),"k1117"==_&&(d.skill.k1114.gain+=.25,d.skill.k1117.cost.k110+=2,d.skill.k1117.cost.k120+=1),"k1118"==_&&(d.skill.k1114.speed+=.3,d.skill.k1118.cost.k110+=2,d.skill.k1118.cost.k120+=1),"k1119"==_){var t=3;1==d.skill.k11191.value&&(t+=3),d.game.tree.t24>0&&(t+=d.game.tree.t24),explore_go(_,t,"k1114")}if("k1131"==_&&(lskill("k1132"),d.skill.k1114.need+=10,uskill("k1228")),"k1132"==_&&(lskill("k1131"),d.skill.k110.max+=3),"k1133"==_&&(lskill("k1134"),uskill("k1114")),"k1134"==_&&(lskill("k1133"),d.skill.k1134.value>=d.skill.k1134.max&&uskill("k1114")),"k11311"==_&&explore_go(_,13+(1==d.skill.k11601.value?20:0),"k1114"),"k1135"==_&&(d.skill.xp.need=d.game.player.nxp,d.skill.k1135.value=0,uskill("e111"),show_notice(story.n1)),"k1136"==_&&(lskill("k116"),lskill("k117"),lskill("k1137"),cleargm(),d.game.next_stage=17),"k1137"==_&&(lskill("k1136"),lskill("k1137"),d.game.next_stage=18),"k1138"==_){var t=5;d.game.tree.t35>0&&(t+=d.game.tree.t35),explore_go(_,t,"k1114")}if("k1139"==_&&(uskill("k1114"),uskill("k1230")),"k1230"==_&&d.skill[_].value==d.skill[_].max&&(uskill("k1231"),uskill("k1232"),uskill("k1233")),"k1231"==_&&(uskill("k11211"),uskill("k11221"),uskill("k11231"),1==d.skill.k116.unlock&&uskill("k11241"),1==d.skill.k117.unlock&&uskill("k11261")),"k1232"==_&&(uskill("k12221"),uskill("k12231"),1==d.skill.k116.unlock&&uskill("k12261"),1==d.skill.k117.unlock&&uskill("k12271"),1==d.skill.k1136.unlock&&uskill("k12281")),"k1233"==_&&(uskill("k11161"),uskill("k11171"),1==d.skill.k116.unlock&&uskill("k11181"),1==d.skill.k117.unlock&&uskill("k11191"),1==d.skill.k1136.unlock&&uskill("k11381")),"k11211"==_&&(d.skill.k110.speed+=.1,d.skill.k11211.cost.k110+=2),"k11221"==_&&(d.skill.k110.max+=2,d.skill.k11221.cost.k110+=2),"k11231"==_&&(d.skill.k110.gain+=.25,d.skill.k11231.cost.k110+=2),"k11241"==_&&(d.skill.k110.gain+=.25,d.skill.k11241.cost.k110+=2),"k11261"==_&&(d.skill.k110.speed+=.2,d.skill.k11261.cost.k110+=2),"k12221"==_&&(d.skill.k120.max+=2,d.skill.k12221.cost.k120+=2),"k12231"==_&&(d.skill.k120.gain+=.25,d.skill.k12231.cost.k120+=2),"k12261"==_&&(d.skill.k120.speed+=.2,d.skill.k12261.cost.k120+=2),"k12281"==_&&(d.skill.k120.speed+=.3),"k11161"==_&&(d.skill.k1114.need-=3,d.skill.k11161.cost.k110+=2,d.skill.k11161.cost.k120+=1),"k11171"==_&&(d.skill.k1114.gain+=.25,d.skill.k11171.cost.k110+=2,d.skill.k11171.cost.k120+=1),"k11181"==_&&(d.skill.k1114.speed+=.3,d.skill.k11181.cost.k110+=2,d.skill.k11181.cost.k120+=1),"k11381"==_){var t=20;d.game.tree.t35>0&&(t+=d.game.tree.t35),explore_go(_,t,"k1114")}if("k1140"==_&&(uskill("e112"),d.skill.k1140.value=0),"k11401"==_&&(d.skill.k11401.auto=0,null==d.game.battle?(d.skill.k11600.curr=0,d.skill.k11600.running=0,uskill("e113")):d.skill.k11401.value--),"k114011"==_&&(d.skill.k11401.value<d.skill.k11401.max&&(d.skill.k114011.value=0,d.skill.k114011.auto=1),d.skill.k11401.value++,add_xp(d.skill.e113.xp),d.game.tree.t42>0&&(d.skill.k110.max+=.5*d.game.tree.t42)),"k11410"==_&&(show_notice(story.n2),uskill("e114"),d.skill.k11410.value=0),"k11411"==_&&(show_notice(story.n2),uskill("e115"),d.skill.k11411.value=0),"k11412"==_&&(lskill("k11412"),lskill("k11413"),lskill("k11414"),uskill("k11418"),uskill("k11419"),add_story("s19"),show_notice(story.s19)),"k11413"==_&&(lskill("k11412"),lskill("k11413"),lskill("k11414"),uskill("k114131"),uskill("k11419"),1==d.skill.k1136.unlock&&(uskill("k114132"),d.skill.k114131.auto=0),add_story("s21"),show_notice(story.s21)),"k11414"==_&&(lskill("k11412"),lskill("k11413"),lskill("k11414"),uskill("k11415"),uskill("k11416"),add_story("s17"),show_notice(story.s17)),"k11415"==_&&(lskill("k11416"),d.skill.k1114.need+=10,uskill("k1229"),uskill("k11417"),show_notice(story.s18)),"k11416"==_&&(lskill("k11415"),d.skill.k110.max+=3,uskill("k11417")),"k11417"==_&&(lskill("k11414"),uskill("k11412"),uskill("k11413")),"k11418"==_&&(uskill("e116"),d.skill.k11418.value=0),"k11419"==_&&(lskill("k11418"),lskill("k11419"),lskill("k114131"),lskill("k114132"),uskill("k114133"),uskill("k114134"),1==d.skill.k1136.unlock&&uskill("k114135"),1==d.skill.k116.unlock&&(uskill("k114136"),d.skill.k114133.auto=0,d.skill.k114134.auto=0),add_story("s24"),show_notice(story.s24)),"k11420"==_&&(lskill("k11420"),uskill("k1114"),add_story("s17"),show_notice(story.s23)),"k114131"==_&&(uskill("e117"),d.skill.k114131.value=0),"k114132"==_&&(lskill("k11419"),lskill("k114131"),lskill("k114132"),uskill("k11420"),add_xp(25),add_story("s22"),show_notice(story.s22)),"k114133"==_&&(lskill("k114135"),d.skill.k114134.running&&(d.skill.k114134.running=0,d.skill.k114134.curr=0),uskill("e118"),d.skill.k114133.value=0),"k114134"==_&&(lskill("k114135"),d.skill.k114133.running&&(d.skill.k114133.running=0,d.skill.k114133.curr=0),null==d.game.battle?uskill("e119"):d.skill.k114134.value--),"k114135"==_&&(lskill("k114133"),lskill("k114134"),lskill("k114135"),lskill("k114136"),uskill("k11420"),add_xp(25),add_story("s25"),show_notice(story.s25)),"k114136"==_&&(lskill("k114133"),lskill("k114134"),lskill("k114135"),lskill("k114136"),uskill("k11420"),add_xp(25),add_story("s26"),show_notice(story.s26)),"k11510"==_&&d.skill.k11510.value==d.skill.k11510.max&&(lskill("k11510"),lskill("k11511"),lskill("k11512"),add_story("s29"),show_notice(story.s29,32)),"k11511"==_&&(lskill("k11510"),lskill("k11511"),lskill("k11512"),lskill("k11513"),add_story("s29"),show_notice(story.s29,32)),"k11512"==_&&d.skill.k11512.value==d.skill.k11512.max&&(lskill("k11510"),lskill("k11511"),lskill("k11512"),lskill("k11513"),add_story("s29"),show_notice(story.s29,32)),"k11513"==_&&(lskill("k11510"),lskill("k11511"),lskill("k11512"),lskill("k115111"),lskill("k115112"),lskill("k115113"),lskill("k115114"),lskill("k115115"),uskill("k1114"),d.skill.e1111.value=0,add_story("s35"),show_notice(story.s35,animskele>=2?36:35)),"k115111"==_&&(lskill("k115112"),uskill("k115113"),uskill("k115114"),uskill("k115115"),add_story("s30"),show_notice(story.s30)),"k115112"==_&&(lskill("k115111"),uskill("e1110"),d.skill.k115112.value=0,add_story("s31"),show_notice(story.s31)),"k115113"==_&&(lskill("k115111"),lskill("k115112"),lskill("k115114"),lskill("k115115"),lskill("k11513"),uskill("a116"),uskill("k115116"),add_story("s36"),show_notice(story.s36,34)),"k115114"==_&&(lskill("k115111"),lskill("k115112"),lskill("k115113"),lskill("k115115"),lskill("k11513"),uskill("k115116"),d.skill.k114.need-=60,add_story("s37"),show_notice(story.s37,34)),"k115115"==_&&(lskill("k115111"),lskill("k115112"),lskill("k115113"),lskill("k115114"),lskill("k11513"),uskill("k115116"),d.skill.k120.max+=10,add_story("s38"),show_notice(story.s38,34)),"k115116"==_&&(lskill("k115116"),d.game.next_stage=35),"k11520"==_&&(lskill("k115116"),uskill("k115221"),uskill("k115231"),uskill("k11524"),0==d.game.tree.t26&&uskill("k11525"),uskill("k11521"),1==d.skill.k1136.unlock&&uskill("k11526")),"k11521"==_&&(lskill("k11520"),lskill("k115221"),lskill("k115222"),lskill("k115223"),lskill("k115231"),lskill("k115232"),lskill("k115233"),lskill("k11524"),lskill("k11525"),lskill("k11526"),uskill("k1114")),"k115221"==_&&(uskill("k115222"),d.skill.k120.max-=4,d.skill.k120.value>d.skill.k120.max&&(d.skill.k120.value=d.skill.k120.max)),"k115222"==_&&(1==d.skill.k117.unlock&&uskill("k115223"),d.skill.k120.max-=4,d.skill.k120.value>d.skill.k120.max&&(d.skill.k120.value=d.skill.k120.max)),"k115223"==_&&(d.skill.k120.max-=4,d.skill.k120.value>d.skill.k120.max&&(d.skill.k120.value=d.skill.k120.max)),"k115231"==_&&(uskill("k115232"),d.skill.k110.max-=4,d.skill.k110.value>d.skill.k110.max&&(d.skill.k110.value=d.skill.k110.max)),"k115232"==_&&(1==d.skill.k116.unlock&&uskill("k115233"),d.skill.k110.max-=4,d.skill.k110.value>d.skill.k110.max&&(d.skill.k110.value=d.skill.k110.max)),"k115233"==_&&(d.skill.k110.max-=4,d.skill.k110.value>d.skill.k110.max&&(d.skill.k110.value=d.skill.k110.max)),"k11524"==_&&add_xp(5),"k11525"==_&&(d.skill.a111.auto=1,d.skill.a112.auto=1,show_notice(story.n4)),"k115271"==_&&(null==d.game.battle?uskill("e1112"):d.skill.k115271.value--),"k115272"==_&&(d.skill.k115272.value=0,uskill("e1113")),"k115273"==_&&(lskill("k115272"),lskill("k115273"),uskill("k1114"),d.skill.xp.curr=0,add_story("s42a"),show_notice(story.s42a,40)),"k11600"==_&&(d.skill.k11600.auto=0,null==d.game.battle?(d.skill.k11401.curr=0,d.skill.k11401.running=0,uskill("e1114")):d.skill.k11600.value--),"k116001"==_&&(d.skill.k11600.value<d.skill.k11600.max&&(d.skill.k116001.value=0,d.skill.k116001.auto=1),d.skill.k11600.value++,add_xp(d.skill.e1114.xp),d.game.tree.t43>0&&(d.skill.k120.max+=.5*d.game.tree.t43)),("k11610"==_||"k11622"==_)&&(lskill("k11610"),lskill("k11611"),lskill("k11612"),lskill("k11613"),lskill("k11623"),lskill("k11624"),uskill("k11614"),uskill("k11615"),add_story("s47"),show_notice(story.s47)),"k11611"==_&&(lskill("k11610"),lskill("k11611"),lskill("k11612"),lskill("k11613"),uskill("k11622"),uskill("k11623"),uskill("k11624"),add_story("s50"),show_notice(story.s50)),"k11612"==_&&(lskill("k11610"),lskill("k11611"),lskill("k11612"),lskill("k11613"),uskill("k11625"),uskill("k11626"),add_story("s53"),show_notice(story.s53)),"k11613"==_&&(lskill("k11610"),lskill("k11611"),lskill("k11612"),lskill("k11613"),uskill("k11620"),uskill("k11621"),add_story("s51"),show_notice(story.s51)),"k11614"==_&&(d.skill.k11614.value=0,uskill("e1115")),"k11615"==_&&(lskill("k11614"),lskill("k11616"),1==d.skill.k11616.unlock&&0==d.skill.k11616.value&&(d.skill.k11616.unlock=0),uskill("k1114"),show_notice(story.s45,43)),"k11616"==_&&(lskill("k11615"),lskill("k116"),lskill("k117"),lskill("k1136"),uskill("a118"),add_story("s49"),show_notice(story.s49)),"k11617"==_&&(lskill("k11615"),lskill("k11990"),lskill("k11991"),0==d.skill.k11616.value&&lskill("k11616"),uskill("k1114"),show_notice(story.s45,43)),"k11620"==_&&d.skill.k11620.value==d.skill.k11620.max&&(lskill("k11621"),uskill("a117"),uskill("k11610"),uskill("k11611"),uskill("k11612"),add_story("s52"),show_notice(story.s52)),"k11621"==_&&(lskill("k11620"),uskill("k11610"),uskill("k11611"),uskill("k11612")),"k11623"==_&&(lskill("k11622"),lskill("k11624"),uskill("k1114"),show_notice(story.s45,43)),"k11625"==_&&(d.skill.k11625.value=0,uskill("e1116")),"k11626"==_&&(lskill("k11625"),lskill("k11610"),lskill("k11611"),lskill("k11612"),lskill("k11613"),lskill("k11627"),lskill("k11628"),uskill("k11622"),uskill("k11623"),uskill("k11624"),add_story("s50"),show_notice(story.s50)),"k11627"==_&&(d.skill.a113.attack+=2),"k11628"==_&&(d.skill.a115.attack+=3),"k11624"==_&&(lskill("k11622"),lskill("k11623"),lskill("k11624"),lskill("k11626"),uskill("k11617"),1==d.game.perm.klg&&uskill("k11990"),add_story("s55"),show_notice(story.s55)),"k11630"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),minus_xp(200),d.skill.k110.max+=15,add_story("s57"),show_notice(story.s57)),"k11631"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),minus_xp(200),d.skill.k120.max+=10,add_story("s57"),show_notice(story.s57)),"k11632"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),minus_xp(200),d.skill.k1114.speed+=5,add_story("s57"),show_notice(story.s57)),"k11633"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),minus_xp(200),uskill("a119"),add_story("s57"),show_notice(story.s57)),"k11634"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),minus_xp(200),d.skill.a113.attack+=2,add_story("s57"),show_notice(story.s57)),"k11635"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),minus_xp(200),d.skill.a118.attack+=2,add_story("s57"),show_notice(story.s57)),"k11636"==_&&(lskill("k11630"),lskill("k11631"),lskill("k11632"),lskill("k11633"),lskill("k11634"),lskill("k11635"),lskill("k11636"),uskill("k1114"),show_notice(story.s45)),"k11637"==_&&(lskill("k11638"),lskill("k11639"),lskill("k11401"),lskill("k11600"),uskill("k1114"),add_story("s59"),show_notice(story.s59)),"k11638"==_&&(lskill("k11637"),lskill("k11639"),uskill("k1114"),add_story("s60"),show_notice(story.s60)),"k11639"==_&&(lskill("k11637"),lskill("k11638"),uskill("k1114"),add_story("s61"),show_notice(story.s61)),"k11640"==_&&(d.skill.k11640.value=0,uskill("e1117")),"k11641"==_&&(lskill("k11640"),lskill("k11641"),lskill("k11642"),lskill("k11643"),lskill("e1117"),uskill("k1114"),add_xp(25),add_story("s64"),show_notice(story.s64,47)),"k11642"==_&&(lskill("k11640"),lskill("k11641"),lskill("k11642"),lskill("k11643"),lskill("e1117"),uskill("k1114"),add_xp(25),add_story("s65"),show_notice(story.s65,47)),"k11643"==_&&(lskill("k11640"),lskill("k11641"),lskill("k11642"),lskill("k11643"),lskill("e1117"),uskill("k11644"),add_story("s66"),show_notice(story.s66,47)),"k11644"==_&&(lskill("k11643"),d.skill.k11644.value=0,uskill("e1118")),"k1240"==_&&add_xp(1),"k1241"==_&&(d.skill.k1241.value=0,d.skill.k120.value+=50*d.game.tree.t6_8,d.skill.k120.value>d.skill.k120.max&&(d.skill.k120.value=d.skill.k120.max)),"k1242"==_&&(d.skill.k120.value=d.skill.k120.max),"k1243"==_&&(d.skill.k110.value=d.skill.k110.max),"k1244"==_&&(add_spirit(5),minus_sanity(100)),"k1246"==_){d.skill.k1246.value=0;var p=d.skill.k110.max+d.skill.k120.max;p=round(p/2),d.skill.k110.max=p,d.skill.k120.max=p,d.skill.k110.value=p,d.skill.k120.value=p}if("k11710"==_&&(lskill("k11710"),lskill("k11711"),lskill("k11712"),lskill("k11713"),uskill("k11715")),"k11711"==_&&(lskill("k11710"),lskill("k11711"),lskill("k11712"),lskill("k11713"),uskill("k11714"),add_xp(25),add_story("s70"),show_notice(story.s70,49)),"k11712"==_&&(lskill("k11710"),lskill("k11711"),lskill("k11712"),lskill("k11713"),uskill("k11714"),add_story("s71"),show_notice(story.s71,49)),"k11713"==_&&(lskill("k11710"),lskill("k11711"),lskill("k11712"),lskill("k11713"),uskill("k11716"),add_story("s69"),show_notice(story.s69)),"k11715"==_&&(null==d.game.battle?uskill("e1119"):d.skill.k11715.value--),"k11716"==_&&(d.skill.k11716.value=0,uskill("e1120")),"k11714"==_&&(uskill("k11717"),uskill("k11719"),add_story("s73"),show_notice(story.s73,50)),"k11717"==_&&(lskill("k11719"),uskill("k11718"),add_story("s74"),show_notice(story.s74,53)),"k11718"==_&&null==d.game.battle&&(uskill("e1121"),d.skill.k11718.auto=0),"k117181"==_&&(d.skill.k11718.value<d.skill.k11718.max&&(d.skill.k117181.value=0,d.skill.k117181.auto=1),d.skill.k11718.value++,add_xp(d.skill.e1121.xp)),"k11719"==_&&(lskill("k11717"),lskill("k11719"),uskill("k11720"),1==d.skill.k1136.unlock&&uskill("k11722"),1==d.skill.k11616.unlock&&uskill("k11723"),add_story("s75"),show_notice(story.s75)),"k11720"==_&&(lskill("k11720"),lskill("k11721"),lskill("k11722"),lskill("k11723"),uskill("k11725")),"k11721"==_&&(lskill("k11720"),lskill("k11721"),lskill("k11722"),lskill("k11723"),uskill("e1122")),"k11722"==_&&(lskill("k11720"),lskill("k11721"),lskill("k11722"),lskill("k11723"),lskill("k11717"),uskill("k11725"),add_story("s78"),show_notice(story.s78)),"k11723"==_&&(lskill("k11720"),lskill("k11721"),lskill("k11722"),lskill("k11723"),uskill("k11725"),uskill("a1191"),add_story("s79"),show_notice(story.s79)),"k11725"==_&&(uskill("k11726"),uskill("k11727"),add_story("s76"),show_notice(story.s76)),"k11726"==_&&(d.skill.k11726.value=0,uskill("e1123")),"k11727"==_&&(lskill("k11726"),uskill("k11729"),uskill("k11730"),1==d.skill.k1136.unlock&&uskill("k11731"),add_story("s80"),show_notice(story.s80)),"k11728"==_&&(lskill("k11726"),lskill("k11729"),lskill("k11730"),lskill("k11731"),uskill("k11734"),uskill("k11735"),1==d.skill.k11722.value&&uskill("k11736"),add_story("s81"),show_notice(story.s81)),"k11729"==_&&(d.skill.k11729.value=0,uskill("e1124")),"k11730"==_&&(lskill("k11729"),lskill("k11731"),uskill("k11728"),add_story("s84"),show_notice(story.s84)),"k11731"==_&&(lskill("k11729"),lskill("k11730"),uskill("k11728"),add_story("s85"),show_notice(story.s85)),"k11734"==_&&(d.skill.k11734.value=0,uskill("e1125")),"k11735"==_&&(lskill("k11734"),lskill("k11736"),uskill("k11737"),uskill("k11738"),add_story("s86"),show_notice(story.s86)),"k11736"==_&&(lskill("k11734"),lskill("k11735"),uskill("k11739"),add_story("s87"),add_xp(50),show_notice(story.s87)),"k11737"==_&&(d.skill.k11737.value=0,uskill("e1126")),"k11738"==_&&(minus_xp(300),lskill("k11738"),lskill("k11737"),uskill("k11739"),add_story("s88"),show_notice(story.s88)),"k11739"==_&&(lskill("k11734"),lskill("k11735"),lskill("k11736"),lskill("k11737"),lskill("k11738"),uskill("k1191"),1==d.game.temp.goldkey&&uskill("k11911"),add_story("s91"),show_notice(story.s91)),"k1191"==_&&(lskill("k11401"),lskill("k11600"),lskill("k11718"),uskill("k1192"),add_story("s92"),show_notice(story.s92)),"k11911"==_&&(d.game.perm.hourg=1,add_story("s294"),show_notice(story.s294)),"k1192"==_&&(uskill("k1193"),uskill("k1194"),add_story("s93"),show_notice(story.s93)),"k1193"==_){lskill("k1194"),save_lastform();for(var m=Object.keys(d.skill),o=0;o<m.length;o++)d.skill[m[o]].unlock=0,"sp"!=m[o]&&(d.skill[m[o]].value=0);d.game.ginfo_open=0,d.game.gtab_open=0,cleargm(),d.game.next_stage=55}if("k1194"==_&&(lskill("k1193"),save_lastform(),lskill("a999"),uskill("e1127"),play_bgm("bgm2-battle.mp3"),add_story("s99"),show_notice(story.s99)),"k11rain"==_&&(d.skill.k11rain.value=0),"k11990"==_&&(d.game.wp-=1,d.game.wp<0&&(d.game.wp=0),0==seenportal&&uskill("k11991"),d.game.next_stage=70),"k11991"==_&&(lskill("k11617"),lskill("k11381"),lskill("k1138"),lskill("k1119"),lskill("k11311"),lskill("k11401"),lskill("k11600"),lskill("k11718"),d.game.next_stage=73),"k11x000"==_&&(d.game.perm.trade=1,d.game.tree.t9_7>0&&(d.skill.k110.max+=50*d.game.tree.t9_7,d.skill.k120.max+=50*d.game.tree.t9_7),d.game.tree.t10_8>0?d.skill.k11x001.auto=1:show_trade()),"k11x001"==_&&(close_grp(skill.k11x001.grp),d.game.next_stage=77),"k11x0011"==_&&(close_grp(skill.k11x001.grp),skipad=1,d.game.next_stage=77),"k11x002"==_&&(null!=d.game.temp&&1==d.game.temp.recall?(close_grp(skill.k11x0038.grp),uskill("k11x0039"),uskill("k11x0042"),uskill("k11x0043"),d.game.tree.t10_5>0&&uskill("k11x0040"),d.game.tree.t10_6>0&&uskill("k11x0041"),add_story("s179"),show_notice(story.s179,80)):(uskill("k11x0030"),$&&uskill("k11x0031"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0032"),add_story("s109"),show_notice(story.s109,80))),"k11x0030"==_&&(d.skill.k11x0030.value=0,lskill("k11x0032"),uskill("e1128")),"k11x0031"==_&&(close_grp(skill.k11x0031.grp),uskill("k11x0033"),add_xp(500),add_story("s110"),show_notice(story.s110)),"k11x0032"==_&&(lskill("k11x0031"),d.skill.e1128.need=372-30*d.game.tree.t7_2,d.skill.e1128.need<1&&(d.skill.e1128.need=1),add_story("s111"),show_notice(story.s111)),"k11x0033"==_&&(close_grp(skill.k11x0033.grp),uskill("k11x0034"),uskill("k11x0035"),uskill("k11x0036"),add_story("s112"),show_notice(story.s112)),"k11x0034"==_&&(lskill("k11x0035"),add_story("s113"),show_notice(story.s113),anctrack&&(d.skill.k11x0036.auto=1)),"k11x0035"==_&&(lskill("k11x0034"),add_story("s114"),show_notice(story.s114),anctrack&&(d.skill.k11x0036.auto=1)),"k11x0036"==_&&(close_grp(skill.k11x0036.grp),0==d.skill.k11x0034.value&&lskill("k11x0034"),0==d.skill.k11x0035.value&&lskill("k11x0035"),uskill("k11x0037"),add_story("s117"),show_notice(story.s117)),"k11x0037"==_&&(d.skill.k11x0037.value=0,uskill("e1129"),show_notice(story.n5)),"k11x0038"==_&&(close_grp(skill.k11x0038.grp),uskill("k11x0039"),uskill("k11x0042"),uskill("k11x0043"),d.game.tree.t10_5>0&&uskill("k11x0040"),d.game.tree.t10_6>0&&uskill("k11x0041"),add_story("s118"),show_notice(story.s118)),"k11x0039"==_&&add_sp(20),"k11x0040"==_&&add_sp(40),"k11x0041"==_&&add_ds(1),"k11x0042"==_&&(close_grp(skill.k11x0042.grp),d.game.perm["wellact"+(d.game.temp.merch+1)]=_,uskill("k11x0048"),uskill("k11x0050"),1==k&&uskill("k11x0049"),add_story("s119"),show_notice(story.s119)),"k11x0043"==_&&0==d.game.temp.kwitch&&(close_grp(skill.k11x0043.grp),d.game.perm["wellact"+(d.game.temp.merch+1)]=_,uskill("k11x0060"),1==e&&(uskill("k11x0061"),anctrack&&(d.skill.k11x0061.auto=1)),d.game.tree.t8_4>0&&1==u&&uskill("k11x0062"),add_story("s123"),show_notice(story.s123)),"k11x0043"==_&&1==d.game.temp.kwitch&&(close_grp(skill.k11x0043.grp),d.game.perm["wellact"+(d.game.temp.merch+1)]=_,uskill("k11x0063"),uskill("k11x0064"),1==i&&uskill("k11x0065"),add_story("s287"),show_notice(story.s287)),"k11x0048"==_&&(close_grp(skill.k11x0048.grp),uskill("k11x0043"),add_story("s122"),show_notice(story.s122)),"k11x0049"==_&&(close_grp(skill.k11x0049.grp),uskill("k11x0043"),add_story("s122"),show_notice(story.s122)),"k11x0050"==_&&0==d.game.temp.ksnap&&(close_grp(skill.k11x0050.grp),uskill("k11x0051"),1==k&&uskill("k11x0053"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0052"),add_story("s121"),show_notice(story.s121)),"k11x0050"==_&&1==d.game.temp.ksnap&&(close_grp(skill.k11x0050.grp),uskill("k11x0054"),add_story("s286"),show_notice(story.s286)),"k11x0051"==_&&(d.skill.k11x0051.value=0,play_bgm("bgm2-battle.mp3"),uskill("e1130")),"k11x0052"==_&&(lskill("k11x0053"),d.skill.k11x0051.value=0,d.skill.e1130.need=1076-30*d.game.tree.t7_2,cleargm(),play_bgm("bgm2-battle.mp3"),uskill("e1130"),add_story("s131"),show_notice(story.s131)),"k11x0053"==_&&(lskill("k11x0052"),d.skill.k11x0051.value=0,d.skill.e1130.rm=0,cleargm(),play_bgm("bgm2-battle.mp3"),uskill("e1130"),add_story("s132"),show_notice(story.s132)),"k11x0054"==_&&(close_grp(skill.k11x0054.grp),uskill("k11x0055"),uskill("k11x0056"),add_story("s133"),show_notice(story.s133)),"k11x0055"==_&&(lose_allform(),lskill("k11x0056"),uskill("k11x0069"),d.skill.k11x0069.value=1,cleargm(),uskill("k11x0057"),add_story("s134"),show_notice(story.s134)),"k11x0056"==_&&(lskill("k11x0055"),uskill("k11x0057"),add_story("s135"),show_notice(story.s135)),"k11x0057"==_&&0==d.game.temp.kwitch&&(close_grp(skill.k11x0057.grp),uskill("k11x0060"),0==g&&(1==e&&(uskill("k11x0061"),anctrack&&(d.skill.k11x0061.auto=1)),d.game.tree.t8_4>0&&1==u&&uskill("k11x0062")),add_story("s123"),show_notice(story.s123)),"k11x0057"==_&&1==d.game.temp.kwitch&&(close_grp(skill.k11x0057.grp),uskill("k11x0063"),uskill("k11x0064"),1==i&&uskill("k11x0065"),add_story("s287"),show_notice(story.s287)),"k11x0060"==_&&(d.skill.k11x0060.value=0,lskill("k11x0061"),lskill("k11x0062"),uskill("e1131")),"k11x0061"==_&&(lskill("k11x0060"),lskill("k11x0062"),uskill("k11x0063"),add_xp(1e3),add_story("s124"),show_notice(story.s124)),"k11x0062"==_&&(lskill("k11x0060"),lskill("k11x0061"),uskill("k11x0063"),add_xp(2500),d.game.temp.kwitch=1,add_story("s125"),show_notice(story.s125)),"k11x0063"==_&&(close_grp(skill.k11x0063.grp),g&&(lskill("k11x0066"),lskill("k11x0067"),lskill("k11x0068")),0==d.game.temp.fork1&&uskill("k11x0070"),0==d.game.temp.fork2&&uskill("k11x0071"),0==d.game.temp.fork3&&uskill("k11x0072"),0==d.game.temp.fork4&&uskill("k11x0073"),add_story("s130"),show_notice(story.s130)),"k11x0064"==_&&(close_grp(skill.k11x0064.grp),d.skill.k11rain.cost.st+=10,uskill("k11x0063"),add_story("s128"),show_notice(story.s128)),"k11x0065"==_&&(close_grp(skill.k11x0065.grp),add_xp(2e3),d.game.temp.freea=1,1!=g||(d.game.temp.rescbat||uskill("k11x0066"),d.game.temp.rescwolf||uskill("k11x0067"),d.game.temp.rescgoblin||uskill("k11x0068")),uskill("k11x0063"),add_story("s127"),show_notice(story.s127)),"k11x0066"==_&&(lose_allform(),d.skill.k11x0066.unlock=1,d.skill.k11x0066.value=1,cleargm(),d.game.temp.rescbat=1,add_story("s129"),uskill("k11x0063"),anctrack&&(d.skill.k11x0063.auto=1),show_notice(story.s129)),"k11x0067"==_&&(lose_allform(),d.skill.k11x0067.unlock=1,d.skill.k11x0067.value=1,cleargm(),d.game.temp.rescwolf=1,add_story("s129"),uskill("k11x0063"),anctrack&&(d.skill.k11x0063.auto=1),show_notice(story.s129)),"k11x0068"==_&&(lose_allform(),d.skill.k11x0068.unlock=1,d.skill.k11x0068.value=1,cleargm(),d.game.temp.rescgoblin=1,add_story("s129"),uskill("k11x0063"),anctrack&&(d.skill.k11x0063.auto=1),show_notice(story.s129)),"k11x0070"==_&&(close_grp(skill.k11x0070.grp),d.game.temp.fork1=1,uskill("k11x0100"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0101"),$&&uskill("k11x0102"),add_story("s192"),show_notice(story.s192)),"k11x0071"==_&&(close_grp(skill.k11x0071.grp),d.game.temp.fork2=1,uskill("k11x0205"),e&&uskill("k11x0200"),i&&x&&uskill("k11x0201"),e&&$&&uskill("k11x0202"),g&&uskill("k11x0203"),d.game.tree.t6_1>0&&a&&uskill("k11x0204"),add_story("s137"),show_notice(story.s137)),"k11x0072"==_&&(close_grp(skill.k11x0072.grp),d.game.temp.fork3=1,uskill("k11x0300"),uskill("k11x0301"),$&&uskill("k11x0302"),uskill("k11x0305"),add_story("s238"),show_notice(story.s238)),"k11x0073"==_&&(close_grp(skill.k11x0073.grp),d.game.temp.fork4=1,uskill("k11x0400"),uskill("k11x0406"),d.game.tree.t8_4>0&&u&&uskill("k11x0401"),add_story("s283"),show_notice(story.s283)),"k11x0100"==_&&(close_grp(skill.k11x0100.grp),uskill("k11x0100"),d.skill.k11x0100.value=0,uskill("e1150")),"k11x0101"==_&&(d.skill.e1150.need=826-30*d.game.tree.t7_2,add_story("s193"),show_notice(story.s193)),"k11x0102"==_&&(close_grp(skill.k11x0102.grp),uskill("k11x0104"),add_story("s195"),show_notice(story.s195)),"k11x0103"==_&&(close_grp(skill.k11x0103.grp),uskill("k11x0105"),add_story("s194"),show_notice(story.s194)),"k11x0104"==_&&(close_grp(skill.k11x0104.grp),uskill("k11x0108"),uskill("k11x0109"),uskill("k11x0111"),e&&uskill("k11x01101"),1==d.skill.a11905.unlock&&uskill("k11x0110"),add_story("s196"),show_notice(story.s196)),"k11x0105"==_&&(close_grp(skill.k11x0105.grp),uskill("k11x0107"),uskill("k11x0105"),d.skill.k11x0105.value=0,uskill("e1151")),"k11x0106"==_&&(close_grp(skill.k11x0106.grp),uskill("k11x0107"),uskill("a11908"),add_story("s200"),show_notice(story.s200)),"k11x0107"==_&&(close_grp(skill.k11x0107.grp),uskill("k11x0117"),uskill("k11x0121"),add_story("s211"),show_notice(story.s211)),"k11x0108"==_&&(close_grp(skill.k11x0108.grp),uskill("a11906"),uskill("k11x0111"),add_story("s197"),show_notice(story.s197)),"k11x0109"==_&&(close_grp(skill.k11x0109.grp),uskill("a11907"),uskill("k11x0111"),add_story("s198"),show_notice(story.s198)),"k11x0110"==_&&(close_grp(skill.k11x0110.grp),d.skill.a11905.attack+=50,uskill("k11x0111"),add_story("s199"),show_notice(story.s199)),"k11x01101"==_&&(close_grp(skill.k11x01101.grp),uskill("k11x01101"),d.skill.k11x01101.value=0,uskill("e1152")),"k11x0111"==_&&(close_grp(skill.k11x0111.grp),uskill("k11x0114"),uskill("k11x0116"),$&&uskill("k11x0112"),u&&uskill("k11x0113"),add_story("s207"),show_notice(story.s207)),"k11x0112"==_&&(close_grp(skill.k11x0112.grp),uskill("k11x0233"),add_story("s208"),show_notice(story.s208)),"k11x0113"==_&&(close_grp(skill.k11x0113.grp),uskill("k11x0233"),add_story("s208"),show_notice(story.s208)),"k11x0114"==_&&(close_grp(skill.k11x0114.grp),uskill("k11x0115"),add_story("s209"),show_notice(story.s209)),"k11x0115"==_&&(close_grp(skill.k11x0115.grp),uskill("k11x0115"),d.skill.k11x0115.value=0,uskill("e1153")),"k11x0117"==_&&(close_grp(skill.k11x0117.grp),uskill("k11x0121"),d.game.tree.t10_5>0&&uskill("k11x0120"),d.game.tree.t10_5>0&&1==d.skill.k11x0220.value?(uskill("k11x01191"),add_story("s204"),show_notice(story.s204)):(i&&uskill("k11x0118"),e&&uskill("k11x0119"),add_story("s201"),show_notice(story.s201))),"k11x0118"==_&&(add_story("s213"),show_notice(story.s213),d.skill.k120.max+=300),"k11x0119"==_&&(add_story("s214"),show_notice(story.s214),add_ds(3)),"k11x01191"==_&&(add_story("s212"),show_notice(story.s212)),"k11x0120"==_&&add_sp(60),("k11x0121"==_||"k11x0116"==_)&&(close_grp(skill.k11x0121.grp),close_grp(skill.k11x0116.grp),uskill("k11x0122"),uskill("k11x0123"),uskill("k11x0128"),e&&uskill("k11x0124"),1==d.skill.k11x0419.value&&uskill("k11x01241"),d.game.tree.t10_12>0&&uskill("k11x01242"),add_story("s216"),show_notice(story.s216)),"k11x0122"==_&&(add_spirit(20),d.skill.k120.max+=100,add_story("s217"),show_notice(story.s217)),"k11x0123"==_&&0==d.skill.k11x0124.value&&0==d.skill.k11x01241.value&&0==d.skill.k11x01242.value&&(close_grp(skill.k11x0123.grp),uskill("k11x0128"),add_spirit(10),add_story("s218"),show_notice(story.s218)),"k11x0123"==_&&(1==d.skill.k11x0124.value||1==d.skill.k11x01241.value||1==d.skill.k11x01242.value)&&(close_grp(skill.k11x0123.grp),uskill("k11x0125"),uskill("k11x0126"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x01251"),1==d.skill.a11907.unlock&&uskill("k11x01252"),add_story("s220"),show_notice(story.s220)),"k11x0124"==_&&(uskill("k11x0128"),add_story("s219"),show_notice(story.s219)),"k11x01241"==_&&(d.game.perm.rubyp=1,add_story("s375"),show_notice(story.s375)),"k11x01242"==_&&(add_story("s376"),show_notice(story.s376)),"k11x0125"==_&&(close_grp(skill.k11x0125.grp),minus_blood(300),d.skill.k120.max+=500,uskill("k11x0128"),add_story("s220a"),show_notice(story.s220a)),"k11x01251"==_&&(close_grp(skill.k11x01251.grp),d.skill.e1154.need=1630-30*d.game.tree.t7_2,add_story("s223"),uskill("k11x0126"),show_notice(story.s223)),"k11x01252"==_&&(close_grp(skill.k11x01252.grp),d.skill.e1154.need=1030,uskill("k11x0126"),add_story("s224"),show_notice(story.s224)),"k11x0126"==_&&(close_grp(skill.k11x0126.grp),uskill("k11x0126"),d.skill.k11x0126.value=0,play_bgm("bgm2-battle.mp3"),uskill("e1154")),"k11x0127"==_&&(close_grp(skill.k11x0127.grp),uskill("k11x0128"),uskill("k11x0046"),add_story("s222"),show_notice(story.s222)),"k11x0046"==_&&(close_grp(skill.k11x0128.grp),lose_allform(),d.skill.k11x0046.unlock=1,d.skill.k11x0046.value=1,d.game.perm.t6open=1,uskill("k11x0128"),anctrack&&(d.skill.k11x0128.auto=1),uskill("a11909"),add_story("s225"),show_notice(story.s225)),"k11x0128"==_&&(close_grp(skill.k11x0128.grp),0==d.skill.k11x0046.value&&lskill("k11x0046"),uskill("k11x0129"),d.game.tree.t8_4>0&&u&&uskill("k11x0130"),d.game.tree.t9_5>0&&x&&uskill("k11x0131"),add_story("s226"),show_notice(story.s226)),"k11x0129"==_&&(close_grp(skill.k11x0129.grp),uskill("k11x0129"),d.skill.k11x0129.value=0,uskill("e1155")),"k11x0130"==_&&(close_grp(skill.k11x0129.grp),uskill("k11x0133"),add_xp(7710),add_story("s227"),show_notice(story.s227)),"k11x0131"==_&&(close_grp(skill.k11x0129.grp),uskill("k11x0129"),d.skill.e1155.need=1020-30*d.game.tree.t9_5,add_story("s228"),show_notice(story.s228)),"k11x0132"==_&&(uskill("a11903"),add_story("s229"),show_notice(story.s229)),"k11x0133"==_&&(close_grp(skill.k11x0133.grp),uskill("k11x0134"),uskill("k11x0139"),add_story("s231"),show_notice(story.s231)),"k11x0134"==_&&(uskill("k11x0135"),uskill("k11x0136"),uskill("k11x0137"),uskill("k11x0138"),add_story("s233"),show_notice(story.s233)),"k11x0135"==_&&(close_grp(skill.k11x0135.grp),uskill("k11x0139"),d.skill.k110.max+=800,add_story("s234"),show_notice(story.s234)),"k11x0136"==_&&(close_grp(skill.k11x0136.grp),uskill("k11x0139"),d.skill.k120.max+=500,add_story("s235"),show_notice(story.s235)),"k11x0137"==_&&(close_grp(skill.k11x0137.grp),uskill("k11x0139"),add_spirit(50),add_story("s236"),show_notice(story.s236)),"k11x0138"==_&&(close_grp(skill.k11x0138.grp),uskill("k11x0139"),up_atkspd(.5),add_story("s237"),show_notice(story.s237)),"k11x0139"==_&&(close_grp(skill.k11x0139.grp),1==d.game.temp.kchamp&&uskill("k11x0140"),uskill("k11x0141"),add_story("s175"),show_notice(story.s175)),"k11x0140"==_&&(close_grp(skill.k11x0232.grp),uskill("xxx"),add_story("xxx"),show_notice(story.xxx)),"k11x0141"==_&&(close_grp(skill.k11x0141.grp),uskill("k11x0233"),add_story("s230"),show_notice(story.s230)),"k11x0200"==_&&(add_ds(1),add_sp(50),add_story("s138"),show_notice(story.s138)),"k11x0201"==_&&(add_xp(8e3),add_story("s139"),show_notice(story.s139)),"k11x0202"==_&&(add_ds(1),add_sp(300),add_story("s140"),show_notice(story.s140)),"k11x0203"==_&&(add_story("s141"),show_notice(story.s141)),"k11x0204"==_&&(uskill("a11901"),add_story("s142"),show_notice(story.s142)),"k11x0205"==_&&(close_grp(skill.k11x0205.grp),uskill("k11x0207"),d.game.tree.t8_4>0&&u&&uskill("k11x0208"),d.game.tree.t9_5>0&&x&&uskill("k11x0209"),add_story("s143"),show_notice(story.s143)),"k11x0206"==_&&(close_grp(skill.k11x0206.grp),uskill("k11x0217"),uskill("k11x0215"),s&&uskill("k11x0213"),add_story("s150"),show_notice(story.s150)),"k11x0207"==_&&(close_grp(skill.k11x0207.grp),uskill("k11x0207"),d.skill.k11x0207.value=0,uskill("e1132")),"k11x0208"==_&&(close_grp(skill.k11x0207.grp),uskill("k11x0210"),d.game.tree.t8_4>0&&u&&uskill("k11x0211"),d.game.tree.t9_5>0&&x&&uskill("k11x0212"),add_xp(6930),add_story("s144"),show_notice(story.s144)),"k11x0209"==_&&(d.skill.e1132.need=380-30*d.game.tree.t9_5,add_story("s147"),show_notice(story.s147)),"k11x0210"==_&&(close_grp(skill.k11x0210.grp),uskill("k11x0210"),d.skill.k11x0210.value=0,uskill("e1133")),"k11x0211"==_&&(close_grp(skill.k11x0210.grp),uskill("k11x0206"),add_xp(7240),add_story("s146"),show_notice(story.s146)),"k11x0212"==_&&(d.skill.e1133.need=520-30*d.game.tree.t9_5,add_story("s148"),show_notice(story.s148)),"k11x0213"==_&&(close_grp(skill.k11x0213.grp),uskill("k11x0214"),add_story("s151"),show_notice(story.s151)),"k11x0214"==_&&(close_grp(skill.k11x0214.grp),uskill("k11x0214"),d.skill.k11x0214.value=0,play_bgm("bgm2-battle.mp3"),uskill("e1134")),"k11x0215"==_&&(close_grp(skill.k11x0215.grp),uskill("k11x0216"),k&&uskill("k11x02171"),add_story("s152"),show_notice(story.s152)),"k11x0216"==_&&(close_grp(skill.k11x0216.grp),uskill("k11x0216"),d.skill.k11x0216.value=0,uskill("e1135")),"k11x0217"==_&&(close_grp(skill.k11x0217.grp),lskill("k11x0047"),uskill("k11x0218")),"k11x02171"==_&&(close_grp(skill.k11x02171.grp),uskill("k11x0218"),add_xp(1500),add_story("s155"),show_notice(story.s155)),"k11x02172"==_&&(close_grp(skill.k11x02172.grp),uskill("k11x0218")),"k11x02173"==_&&(close_grp(skill.k11x02173.grp),uskill("k11x02240"),add_story("s165"),show_notice(story.s165)),"k11x0047"==_&&(close_grp(skill.k11x0217.grp),lose_allform(),d.skill.k11x0047.unlock=1,d.skill.k11x0047.value=1,d.game.perm.t7open=1,uskill("k11x0218"),uskill("a11904"),add_story("s153"),show_notice(story.s153)),"k11x0218"==_&&(close_grp(skill.k11x0218.grp),0==d.skill.k11x0047.value&&lskill("k11x0047"),uskill("k11x0223"),uskill("k11x02221"),i&&uskill("k11x0219"),e&&uskill("k11x0220"),d.game.tree.t10_5>0&&uskill("k11x0221"),k&&uskill("k11x0222"),add_story("s156"),show_notice(story.s156)),"k11x0219"==_&&(lskill("k11x0221"),d.skill.k110.max+=500,add_story("s157"),show_notice(story.s157)),"k11x0220"==_&&(lskill("k11x0221"),lskill("k11x0222"),add_story("s158"),show_notice(story.s158)),"k11x0221"==_&&add_sp(20),"k11x0222"==_&&(close_grp(skill.k11x0222.grp),uskill("k11x02240"),add_story("s166"),show_notice(story.s166)),"k11x02221"==_&&add_sp(5),"k11x0223"==_&&(close_grp(skill.k11x0223.grp),uskill("k11x0228"),uskill("k11x0229"),uskill("k11x0230"),x&&d.game.tree.t9_3>0&&uskill("k11x0227"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x02291"),e&&$&&uskill("k11x02292"),add_story("s159"),show_notice(story.s159)),"k11x02240"==_&&(close_grp(skill.k11x02240.grp),uskill("k11x0225"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0224"),add_story("s167"),show_notice(story.s167)),"k11x0224"==_&&(d.skill.e1136.need=760-30*d.game.tree.t7_2,add_story("s168"),show_notice(story.s168)),"k11x0225"==_&&(close_grp(skill.k11x0225.grp),d.skill.k11x0225.value=0,uskill("e1136")),"k11x02251"==_&&(uskill("a11905"),add_story("s170"),show_notice(story.s170)),"k11x0227"==_&&(close_grp(skill.k11x0227.grp),up_atkspd(.5),uskill("k11x0231"),add_story("s160"),show_notice(story.s160)),"k11x0228"==_&&(close_grp(skill.k11x0228.grp),up_atkspd(.5),uskill("k11x0231"),add_story("s161"),show_notice(story.s161)),"k11x0229"==_&&(close_grp(skill.k11x0229.grp),uskill("k11x0229"),d.skill.k11x0229.value=0,uskill("e1137"),play_bgm("bgm2-battle.mp3")),"k11x02291"==_&&(close_grp(skill.k11x02291.grp),d.skill.e1137.need=980-30*d.game.tree.t7_2,uskill("k11x0229"),add_story("s162"),show_notice(story.s162)),"k11x02292"==_&&(close_grp(skill.k11x02292.grp),up_atkspd(.5),uskill("k11x0231"),add_story("s163"),show_notice(story.s163)),"k11x0230"==_&&(close_grp(skill.k11x0230.grp),uskill("k11x0231")),("k11x0231"==_||"k11x0226"==_)&&(close_grp(skill.k11x0231.grp),close_grp(skill.k11x0226.grp),uskill("k11x0233"),1==d.game.temp.kchamp&&uskill("k11x0232"),add_story("s174"),show_notice(story.s174)),"k11x0232"==_&&(close_grp(skill.k11x0232.grp),uskill("xxx"),add_story("xxx"),show_notice(story.xxx)),"k11x0233"==_&&(close_grp(skill.k11x0233.grp),uskill("k11x0500"),add_story("s171"),show_notice(story.s171)),"k11x0300"==_&&(close_grp(skill.k11x0300.grp),uskill("k11x0303"),add_story("s239"),show_notice(story.s239)),"k11x0301"==_&&(add_sp(30),add_story("s240"),show_notice(story.s240)),"k11x0302"==_&&(d.skill.a113.attack+=2,d.skill.a116.attack+=2,d.skill.a11907.attack+=2,d.skill.a11908.attack+=2,d.skill.a11913.attack+=2,add_story("s241"),show_notice(story.s241)),"k11x0303"==_&&(close_grp(skill.k11x0303.grp),uskill("k11x0303"),d.skill.k11x0303.value=0,uskill("e1156")),"k11x0304"==_&&(d.skill.st.max+=20,add_spirit(20),add_story("s243"),show_notice(story.s243)),"k11x0305"==_&&(close_grp(skill.k11x0305.grp),uskill("k11x0306"),uskill("k11x0307"),x&&d.game.tree.t9_3>0&&uskill("k11x0308"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0309"),add_story("s244"),show_notice(story.s244)),"k11x0306"==_&&(close_grp(skill.k11x0306.grp),uskill("k11x0306"),d.skill.k11x0306.value=0,play_bgm("bgm2-battle.mp3"),uskill("e1157")),"k11x0307"==_&&(close_grp(skill.k11x0310.grp),uskill("k11x0310"),add_story("s245"),show_notice(story.s245)),"k11x0308"==_&&(close_grp(skill.k11x0310.grp),uskill("k11x0310"),add_story("s245"),show_notice(story.s245)),"k11x0309"==_&&(close_grp(skill.k11x0306.grp),uskill("k11x0306"),d.skill.e1157.need=1280-30*d.game.tree.t7_2,add_story("s246"),show_notice(story.s246)),"k11x03090"==_&&(uskill("k11x0045"),add_story("s248"),show_notice(story.s248)),"k11x0045"==_&&(close_grp(skill.k11x0310.grp),lose_allform(),d.skill.k11x0045.unlock=1,d.skill.k11x0045.value=1,d.game.perm.t8open=1,uskill("a11910"),uskill("k11x0310"),anctrack&&(d.skill.k11x0310.auto=1),add_story("s249"),show_notice(story.s249)),"k11x0310"==_&&(close_grp(skill.k11x0310.grp),0==d.skill.k11x0045.value&&lskill("k11x0045"),uskill("k11x0313"),uskill("k11x0315"),k&&uskill("k11x0311"),(s||r)&&uskill("k11x0312"),add_story("s250"),show_notice(story.s250)),"k11x0311"==_&&(close_grp(skill.k11x0311.grp),uskill("k11x0314"),add_story("s251"),show_notice(story.s251)),"k11x0312"==_&&(close_grp(skill.k11x0312.grp),uskill("k11x0318"),add_story("s252"),show_notice(story.s252)),"k11x0313"==_&&(close_grp(skill.k11x0313.grp),minus_sanity(200),uskill("k11x0315"),add_story("s253"),show_notice(story.s253)),"k11x0315"==_&&(close_grp(skill.k11x0315.grp),uskill("k11x0317"),a&&uskill("k11x0316"),add_story("s254"),show_notice(story.s254)),"k11x0316"==_&&(close_grp(skill.k11x0316.grp),uskill("k11x0318"),uskill("a11911"),add_story("s255"),show_notice(story.s255)),"k11x0317"==_&&(close_grp(skill.k11x0317.grp),uskill("k11x0317"),play_bgm("bgm2-battle.mp3"),d.skill.k11x0317.value=0,uskill("e1158")),"k11x0318"==_&&(close_grp(skill.k11x0318.grp),uskill("k11x0319"),uskill("k11x0320"),uskill("k11x0321"),add_story("s257"),show_notice(story.s257)),("k11x0319"==_||"k11x0314"==_)&&(close_grp(skill.k11x0319.grp),close_grp(skill.k11x0314.grp),uskill("k11x0339"),k&&uskill("k11x0337"),a&&uskill("k11x0338"),add_story("s269"),show_notice(story.s269)),"k11x0320"==_&&(close_grp(skill.k11x0320.grp),uskill("k11x0348"),1==d.skill.a117.unlock&&uskill("k11x0346"),add_story("s277"),show_notice(story.s277)),("k11x0321"==_||"k11x0342"==_)&&(close_grp(skill.k11x0321.grp),close_grp(skill.k11x0342.grp),uskill("k11x0326"),d.game.tree.t10_5>0&&uskill("k11x0325"),d.game.tree.t10_5>0&&1==d.skill.k11x0220.value?(uskill("k11x0324"),add_story("s205"),show_notice(story.s205)):(i&&uskill("k11x0322"),e&&uskill("k11x0323"),add_story("s202"),show_notice(story.s202))),"k11x0322"==_&&(close_grp(skill.k11x0322.grp),uskill("k11x0326"),add_story("s258"),show_notice(story.s258),d.skill.st.max+=50,add_spirit(10)),"k11x0323"==_&&(close_grp(skill.k11x0323.grp),uskill("k11x0326"),add_story("s259"),show_notice(story.s259),add_ds(10)),"k11x0324"==_&&(add_story("s260"),show_notice(story.s260)),"k11x0325"==_&&add_sp(120),"k11x0326"==_&&(close_grp(skill.k11x0326.grp),uskill("k11x0327"),uskill("k11x0328"),uskill("k11x0329"),uskill("k11x0335"),uskill("k11x0336"),x&&uskill("k11x0330"),(s||r)&&uskill("k11x0332"),add_story("s261"),show_notice(story.s261)),"k11x0327"==_&&(close_grp(skill.k11x0327.grp),uskill("k11x0329"),uskill("k11x0335"),uskill("k11x0336"),d.skill.k110.max+=100,d.skill.k120.max+=100,d.skill.st.value-=15,d.skill.st.value<0&&(d.skill.st.value=0),minus_spirit(15),add_story("s262"),show_notice(story.s262)),"k11x0328"==_&&(close_grp(skill.k11x0328.grp),uskill("k11x0329"),uskill("k11x0335"),uskill("k11x0336"),d.skill.k120.max+=100,minus_blood(200),add_story("s263"),show_notice(story.s263)),"k11x0329"==_&&(close_grp(skill.k11x0329.grp),uskill("k11x0329"),d.skill.k11x0329.value=0,uskill("e1159")),"k11x0330"==_&&(close_grp(skill.k11x0330.grp),uskill("k11x0331"),uskill("k11x0335"),uskill("k11x0336"),add_story("s264"),show_notice(story.s264)),"k11x0331"==_&&(close_grp(skill.k11x0331.grp),uskill("k11x0335"),uskill("k11x0336"),uskill("a11912"),add_story("s265"),show_notice(story.s265)),"k11x0332"==_&&(close_grp(skill.k11x0332.grp),i&&uskill("k11x0333"),e&&uskill("k11x0334"),uskill("k11x0335"),uskill("k11x0336"),add_story("s266"),show_notice(story.s266)),"k11x0333"==_&&(close_grp(skill.k11x0333.grp),uskill("k11x0335"),uskill("k11x0336"),add_story("s267"),show_notice(story.s267)),"k11x0334"==_&&(close_grp(skill.k11x0334.grp),uskill("k11x0335"),uskill("k11x0336"),d.skill.k110.max+=300,add_story("s268"),show_notice(story.s268)),("k11x0335"==_||"k11x0345"==_)&&(close_grp(skill.k11x0335.grp),close_grp(skill.k11x0345.grp),uskill("k11x0349"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0350"),add_story("s280"),show_notice(story.s280)),("k11x0336"==_||"k11x0348"==_)&&(close_grp(skill.k11x0336.grp),close_grp(skill.k11x0348.grp),uskill("k11x0353"),1==d.game.temp.kchamp&&uskill("k11x0352"),add_story("s176"),show_notice(story.s176)),"k11x0337"==_&&(close_grp(skill.k11x0337.grp),uskill("k11x0340"),add_story("s270"),show_notice(story.s270)),"k11x0338"==_&&(close_grp(skill.k11x0338.grp),uskill("k11x0340"),uskill("a11902"),add_story("s271"),show_notice(story.s271)),"k11x0339"==_&&(close_grp(skill.k11x0339.grp),uskill("k11x0340"),add_story("s272"),show_notice(story.s272)),"k11x0340"==_&&(close_grp(skill.k11x0340.grp),uskill("k11x0341"),uskill("k11x0342"),add_story("s273"),show_notice(story.s273)),"k11x0341"==_&&(close_grp(skill.k11x0341.grp),k&&uskill("k11x0343"),uskill("k11x0344"),add_story("s274"),show_notice(story.s274)),"k11x0343"==_&&(close_grp(skill.k11x0343.grp),uskill("k11x0345"),add_story("s275"),show_notice(story.s275)),"k11x0344"==_&&(close_grp(skill.k11x0344.grp),d.skill.k11rain.cost.st+=30,add_story("s276"),show_notice(story.s276)),"k11x0346"==_&&(uskill("k11x0347"),add_story("s278"),show_notice(story.s278)),"k11x0347"==_&&(d.game.perm.sfuse=1,add_story("s279"),show_notice(story.s279)),"k11x0349"==_&&(close_grp(skill.k11x0349.grp),uskill("k11x0349"),d.skill.k11x0349.value=0,play_bgm("bgm2-battle.mp3"),uskill("e1160")),"k11x0350"==_&&(d.skill.e1160.need=1580-30*d.game.tree.t7_2,cleargm(),play_bgm("bgm2-battle.mp3"),uskill("e1160"),add_story("s281"),show_notice(story.s281)),"k11x0351"==_&&(close_grp(skill.k11x0351.grp),uskill("k11x0233"),add_story("s230"),show_notice(story.s230)),"k11x0352"==_&&(close_grp(skill.k11x0352.grp),uskill("xxx"),add_story("xxx"),show_notice(story.xxx)),"k11x0353"==_&&(close_grp(skill.k11x0353.grp),uskill("k11x0233"),add_story("s230"),show_notice(story.s230)),"k11x0400"==_&&(close_grp(skill.k11x0400.grp),uskill("k11x0400"),d.skill.k11x0400.value=0,uskill("e1161")),"k11x0401"==_&&(close_grp(skill.k11x0401.grp),uskill("k11x0400"),d.skill.k11x0400.value=0,d.skill.b11955.auto=0,uskill("e1161"),add_story("s284"),show_notice(story.s284)),"k11x0402"==_&&(close_grp(skill.k11x0402.grp),uskill("k11x0406"),uskill("a11913"),add_story("s288"),show_notice(story.s288)),"k11x0403"==_&&(close_grp(skill.k11x0403.grp),uskill("k11x0404"),add_story("s290"),show_notice(story.s290)),"k11x0404"==_&&(close_grp(skill.k11x0404.grp),uskill("k11x0404"),d.skill.k11x0404.value=0,play_bgm("bgm2-battle.mp3"),uskill("e1162")),"k11x0044"==_&&(close_grp(skill.k11x0404.grp),lose_allform(),d.skill.k11x0044.unlock=1,d.skill.k11x0044.value=1,d.game.perm.t9open=1,uskill("k11x0406"),anctrack&&(d.skill.k11x0406.auto=1),uskill("a11914"),d.game.tree.t9_2>0&&uskill("a11916"),add_story("s292"),show_notice(story.s292)),"k11x0405"==_&&(close_grp(skill.k11x0405.grp),uskill("k11x0406"),d.skill.k110.max+=300,add_story("s289"),show_notice(story.s289)),"k11x0406"==_&&(close_grp(skill.k11x0406.grp),0==d.skill.k11x0044.value&&lskill("k11x0044"),uskill("k11x0407"),add_story("s293"),show_notice(story.s293)),"k11x0407"==_&&(close_grp(skill.k11x0407.grp),uskill("k11x0407"),d.skill.k11x0407.value=0,uskill("e1163")),"k11x0408"==_&&(close_grp(skill.k11x0408.grp),uskill("k11x0409"),uskill("k11x0410"),add_story("s295"),show_notice(story.s295)),"k11x0409"==_&&(close_grp(skill.k11x0409.grp),uskill("k11x0411"),uskill("k11x0412"),x&&uskill("k11x0413"),i&&uskill("k11x0414"),add_story("s296"),show_notice(story.s296)),"k11x0410"==_&&(close_grp(skill.k11x0410.grp),uskill("k11x0456"),add_story("s337"),show_notice(story.s337)),"k11x0411"==_&&(close_grp(skill.k11x0411.grp),uskill("k11x0412"),uskill("k11x0415"),add_story("s297"),show_notice(story.s297)),"k11x0412"==_&&(close_grp(skill.k11x0412.grp),1==d.skill.k11x0220.value?uskill("k11x0422"):uskill("k11x0425"),g&&uskill("k11x0416"),add_story("s300"),show_notice(story.s300)),"k11x0413"==_&&(close_grp(skill.k11x0413.grp),uskill("k11x0412"),uskill("k11x0415"),add_story("s298"),show_notice(story.s298)),"k11x0414"==_&&(close_grp(skill.k11x0414.grp),uskill("k11x0412"),uskill("k11x0415"),d.skill.st.max+=5,d.skill.st.value+=5,d.skill.k120.max+=50,add_story("s299"),show_notice(story.s299)),"k11x0415"==_&&(close_grp(skill.k11x0415.grp),uskill("k11x0442"),uskill("k11x0450"),g&&uskill("k11x0444"),u&&uskill("k11x0443"),d.game.tree.t9_9>0&&uskill("k11x0445"),add_story("s324"),show_notice(story.s324)),"k11x0416"==_&&(close_grp(skill.k11x0416.grp),d.game.tree.t9_9>0&&uskill("k11x0418"),uskill("k11x0417"),add_story("s301"),show_notice(story.s301)),"k11x0417"==_&&(close_grp(skill.k11x0417.grp),uskill("k11x0419"),uskill("k11x0420"),uskill("k11x0421"),uskill("k11x0425"),add_story("s303"),show_notice(story.s303)),"k11x0418"==_&&(close_grp(skill.k11x0418.grp),uskill("k11x0417"),add_story("s302"),show_notice(story.s302)),"k11x0419"==_&&(close_grp(skill.k11x0419.grp),uskill("k11x0425"),add_story("s304"),show_notice(story.s304)),"k11x0420"==_&&(close_grp(skill.k11x0420.grp),uskill("k11x0425"),add_story("s305"),show_notice(story.s305)),"k11x0421"==_&&(close_grp(skill.k11x0421.grp),uskill("k11x0425"),add_story("s306"),show_notice(story.s306)),"k11x0422"==_&&(close_grp(skill.k11x0422.grp),uskill("k11x0423"),d.game.tree.t7_2>0&&(1==s||1==r)&&uskill("k11x0424"),add_story("s307"),show_notice(story.s307)),"k11x0423"==_&&(close_grp(skill.k11x0423.grp),uskill("k11x0423"),d.skill.k11x0423.value=0,uskill("e1164")),"k11x0424"==_&&(close_grp(skill.k11x0424.grp),uskill("k11x0423"),d.skill.e1164.need=3810-30*d.game.tree.t7_2,add_story("s308"),show_notice(story.s308)),"k11x0425"==_&&(close_grp(skill.k11x0425.grp),uskill("k11x0428"),uskill("k11x0429"),d.game.tree.t10_5>0&&uskill("k11x0427"),add_story("s311"),show_notice(story.s311)),"k11x0426"==_&&(close_grp(skill.k11x0426.grp),uskill("k11x0425"),add_story("s310"),show_notice(story.s310)),"k11x0427"==_&&add_ds(1),"k11x0428"==_&&(close_grp(skill.k11x0428.grp),uskill("k11x0435"),uskill("k11x0436"),uskill("k11x0441"),x&&uskill("k11x0437"),a&&uskill("k11x0438"),r&&uskill("k11x0439"),d.game.tree.t9_9>0&&uskill("k11x0440"),add_story("s317"),show_notice(story.s317)),"k11x0429"==_&&(close_grp(skill.k11x0429.grp),uskill("k11x0430"),uskill("k11x0434"),d.game.tree.t8_4>0&&u&&uskill("k11x0431"),1==d.skill.k11x0421.value&&uskill("k11x0432"),add_story("s312"),show_notice(story.s312)),"k11x0430"==_&&(close_grp(skill.k11x0430.grp),uskill("k11x0430"),d.skill.k11x0430.value=0,uskill("e1165")),"k11x0431"==_&&(close_grp(skill.k11x0431.grp),uskill("k11x0434"),add_xp(8e3),add_story("s314"),show_notice(story.s314)),"k11x0432"==_&&(close_grp(skill.k11x0432.grp),uskill("k11x0433"),uskill("k11x0434"),add_story("s315"),show_notice(story.s315)),"k11x0433"==_&&(close_grp(skill.k11x0433.grp),uskill("k11x0434"),add_story("s316"),show_notice(story.s316)),"k11x0434"==_&&(close_grp(skill.k11x0434.grp),uskill("k11x0471"),d.game.tree.t9_9>0&&uskill("k11x0470"),add_story("s352"),show_notice(story.s352)),"k11x0435"==_&&(d.skill.k110.max+=300,minus_sanity(100),add_story("s318"),show_notice(story.s318)),"k11x0436"==_&&(minus_spirit(5),add_story("s319"),show_notice(story.s319)),"k11x0437"==_&&(add_story("s320"),show_notice(story.s320)),"k11x0438"==_&&(add_story("s321"),show_notice(story.s321)),"k11x0439"==_&&(add_story("s322"),show_notice(story.s322)),"k11x0440"==_&&(add_spirit(5),minus_sanity(100),uskill("k1244"),add_story("s323"),show_notice(story.s323)),"k11x0441"==_&&(close_grp(skill.k11x0441.grp),uskill("k11x0471"),d.game.tree.t9_9>0&&uskill("k11x0470"),add_story("s352"),show_notice(story.s352)),"k11x0442"==_&&(close_grp(skill.k11x0442.grp),uskill("k11x04481"),uskill("k11x0450"),$&&uskill("k11x0446"),k&&uskill("k11x0447"),add_story("s325"),show_notice(story.s325)),"k11x0443"==_&&(close_grp(skill.k11x0443.grp),uskill("k11x04481"),uskill("k11x0450"),add_story("s325"),show_notice(story.s325)),"k11x0444"==_&&(close_grp(skill.k11x0444.grp),uskill("k11x04481"),uskill("k11x0450"),add_story("s325"),show_notice(story.s325)),"k11x0445"==_&&(close_grp(skill.k11x0445.grp),uskill("k11x04481"),uskill("k11x0450"),$&&uskill("k11x0446"),k&&uskill("k11x0447"),add_story("s326"),show_notice(story.s326)),"k11x0446"==_&&(close_grp(skill.k11x0446.grp),uskill("k11x0448"),uskill("k11x0450"),add_story("s328"),show_notice(story.s328)),"k11x0447"==_&&(close_grp(skill.k11x0447.grp),uskill("k11x0448"),uskill("k11x0450"),add_story("s329"),show_notice(story.s329)),"k11x04481"==_&&(close_grp(skill.k11x04481.grp),uskill("k11x04491"),add_story("s330"),show_notice(story.s330)),"k11x0448"==_&&(close_grp(skill.k11x0448.grp),uskill("k11x0450"),uskill("k1245"),add_story("s327"),show_notice(story.s327)),"k11x04491"==_&&(close_grp(skill.k11x04491.grp),uskill("k11x0449"),add_story("s331"),show_notice(story.s331)),"k11x0449"==_&&(close_grp(skill.k11x0449.grp),uskill("k11x0449"),d.skill.k11x0449.value=0,uskill("e1166")),"k11x0450"==_&&(close_grp(skill.k11x0450.grp),uskill("k11x0451"),uskill("k11x0453"),add_story("s333"),show_notice(story.s333)),"k11x0451"!=_||i||(close_grp(skill.k11x0451.grp),uskill("k11x0452"),add_story("s334"),show_notice(story.s334)),"k11x0451"==_&&i&&(close_grp(skill.k11x0451.grp),d.game.perm.kbenc=1,uskill("k11x0453"),add_story("s335"),show_notice(story.s335)),"k11x0452"==_&&(close_grp(skill.k11x0452.grp),uskill("k11x0452"),d.skill.k11x0452.value=0,uskill("e1167")),"k11x0453"==_&&(close_grp(skill.k11x0453.grp),uskill("k11x0481"),uskill("k11x0482"),1==d.skill.k11x0449.value&&uskill("k11x0480"),add_story("s360"),show_notice(story.s360)),"k11x0454"==_&&(close_grp(skill.k11x0454.grp),uskill("k11x0457"),d.game.tree.t9_5>0&&x&&uskill("k11x0458"),d.game.tree.t8_4>0&&1==u&&uskill("k11x0459"),add_story("s338"),show_notice(story.s338)),"k11x0456"==_&&(close_grp(skill.k11x0456.grp),uskill("k11x0457"),d.game.tree.t9_5>0&&x&&uskill("k11x0458"),d.game.tree.t8_4>0&&1==u&&uskill("k11x0459"),add_story("s338"),show_notice(story.s338)),"k11x0457"==_&&(close_grp(skill.k11x0457.grp),uskill("k11x0457"),d.skill.k11x0457.value=0,d.game.temp.reanim||(d.game.temp.reanim=0),uskill("e1168")),"k11x0458"==_&&(close_grp(skill.k11x0458.grp),uskill("k11x0457"),d.game.temp.reanim||(d.game.temp.reanim=0),d.skill.e1168.need=1500-30*d.game.tree.t9_5,uskill("e1168"),add_story("s342"),show_notice(story.s342)),"k11x0459"==_&&(close_grp(skill.k11x0459.grp),uskill("k11x0460"),add_xp(8160),add_story("s339"),show_notice(story.s339)),"k11x0460"==_&&(close_grp(skill.k11x0460.grp),uskill("k11x0461"),uskill("k11x0465"),e&&uskill("k11x0463"),a&&uskill("k11x0464"),add_story("s343"),show_notice(story.s343)),"k11x0461"==_&&(close_grp(skill.k11x0461.grp),uskill("k11x0462"),add_story("s344"),show_notice(story.s344)),"k11x0462"==_&&(close_grp(skill.k11x0462.grp),uskill("k11x0462"),d.skill.k11x0462.value=0,uskill("e1169")),"k11x0461"==_&&(close_grp(skill.k11x0461.grp),uskill("k11x0462"),add_story("s344"),show_notice(story.s344)),"k11x0463"==_&&(close_grp(skill.k11x0463.grp),uskill("k11x0465"),add_xp(1e4),add_story("s346"),show_notice(story.s346)),"k11x0464"==_&&(close_grp(skill.k11x0464.grp),uskill("k11x0465"),d.skill.a11901.attack+=20,d.skill.a11902.attack+=20,d.skill.a11903.attack+=20,add_story("s347"),show_notice(story.s347)),"k11x0465"==_&&(close_grp(skill.k11x0465.grp),uskill("k11x0469"),i?uskill("k11x0467"):uskill("k11x0466"),u&&uskill("k11x0468"),add_story("s348"),show_notice(story.s348)),"k11x0466"==_&&(minus_blood(200),add_story("s349"),show_notice(story.s349)),"k11x0467"==_&&(close_grp(skill.k11x0467.grp),uskill("k11x0469"),uskill("a11915"),add_story("s350"),show_notice(story.s350)),"k11x0468"==_&&(close_grp(skill.k11x0468.grp),uskill("k11x0469"),uskill("a11915"),add_story("s351"),show_notice(story.s351)),"k11x0469"==_&&(close_grp(skill.k11x0469.grp),uskill("k11x0471"),d.game.tree.t9_9>0&&uskill("k11x0470"),add_story("s352"),show_notice(story.s352)),"k11x0470"==_&&(d.skill.st.max+=5,d.skill.st.value+=5,add_story("s353"),show_notice(story.s353)),"k11x0471"==_&&(close_grp(skill.k11x0471.grp),uskill("k11x0472"),uskill("k11x0473"),x&&uskill("k11x0474"),$&&uskill("k11x0475"),k&&uskill("k11x0476"),add_story("s354"),show_notice(story.s354)),"k11x0472"==_&&(close_grp(skill.k11x0472.grp),uskill("k11x0477"),add_story("s355"),show_notice(story.s355)),"k11x0473"==_&&(close_grp(skill.k11x0473.grp),uskill("k11x0477"),d.skill.k110.max+=300,d.skill.k120.max+=200,add_story("s356"),show_notice(story.s356)),"k11x0474"==_&&(close_grp(skill.k11x0474.grp),uskill("k11x0477"),add_story("s357"),show_notice(story.s357)),"k11x0475"==_&&(close_grp(skill.k11x0475.grp),uskill("k11x0477"),add_xp(1e4),add_story("s358"),show_notice(story.s358)),"k11x0476"==_&&(close_grp(skill.k11x0476.grp),uskill("k11x0477"),add_xp(1e4),add_story("s359"),show_notice(story.s359)),("k11x0477"==_||"k11x0483"==_)&&(close_grp(skill.k11x0477.grp),close_grp(skill.k11x0483.grp),uskill("k11x0479"),1==d.game.temp.kchamp&&uskill("k11x0478"),add_story("s177"),show_notice(story.s177)),"k11x0478"==_&&(close_grp(skill.k11x0478.grp),uskill("xxx"),add_story("xxx"),show_notice(story.xxx)),"k11x0479"==_&&(close_grp(skill.k11x0479.grp),uskill("k11x0233"),add_story("s230"),show_notice(story.s230)),"k11x0480"==_&&(close_grp(skill.k11x0480.grp),uskill("k11x0483"),d.skill.k120.max+=300,d.game.perm.snekc=1,add_story("s361"),show_notice(story.s361)),"k11x0481"==_&&(close_grp(skill.k11x0481.grp),uskill("k11x0483"),d.skill.k110.max+=100,add_story("s362"),show_notice(story.s362)),"k11x0482"==_&&(close_grp(skill.k11x0482.grp),uskill("k11x0483"),d.skill.st.max+=10,d.skill.st.value+=10,add_story("s363"),show_notice(story.s363)),"k11x0500"==_&&(uskill("k11x0501"),d.game.tree.t10_4>0&&uskill("k11x0506"),add_story("s172"),show_notice(story.s172,82),play_bgm("bgm2-arena.mp3")),"k11x0501"==_){lskill("k11x0506"),d.game.perm["arenach"+(d.game.temp.merch+1)]=_;var c=["s180","s181","s182"],n=[story.s180,story.s181,story.s182],v=["e1138","e1139","e1140"],p=Math.floor(3*Math.random());add_story(c[p]),show_notice(n[p]),uskill(v[p])}if("k11x0502"==_){var c=["s183","s184"],n=[story.s183,story.s184],v=["e1141","e1142"],p=Math.floor(2*Math.random());add_story(c[p]),show_notice(n[p]),uskill(v[p])}if("k11x0503"==_){var c=["s185","s186"],n=[story.s185,story.s186],v=["e1143","e1144"],p=Math.floor(2*Math.random());add_story(c[p]),show_notice(n[p]),uskill(v[p])}if("k11x0504"==_){var c=["s187","s188"],n=[story.s187,story.s188],v=["e1145","e1146"],p=Math.floor(2*Math.random());add_story(c[p]),show_notice(n[p]),uskill(v[p])}if("k11x0505"==_){var c=["s189","s190"],n=[story.s189,story.s190],v=["e1147","e1148"],p=Math.floor(2*Math.random());add_story(c[p]),show_notice(n[p]),uskill(v[p])}"k11x0506"==_&&(close_grp(skill.k11x0506.grp),d.game.perm["arenach"+(d.game.temp.merch+1)]=_,d.game.tree.t9_7>0&&(skill.k11x000.text='Approach the trader <span style="color:yellow;">(Apply Black Market #'+(d.game.temp.merch+1)+")</span>"),uskill("k11x000"),d.game.temp.merch+=1,uskill("k11x001"),d.game.tree.t7_4>0&&uskill("k11x0011"),uskill("a999"),d.skill.k11rain.auto=0,d.game.temp.recall=1,add_story("s178"),show_notice(story.s178,76),play_bgm("bgm2-prologue.mp3"),cleargm()),"k11x0507"==_&&(gebi("btnanc").click(),play_bgm("bgm2-battle.mp3"),add_story("s191"),show_notice(story.s191),uskill("e1149")),"k11x0508"==_&&(uskill("k11x0509"),d.skill.k110.max=1,d.skill.k110.value=1,d.skill.k120.max=1,d.skill.k120.value=1,add_story("s378"),show_notice(story.s378)),"k11x0509"==_&&uskill("e1170"),"k11x0510"==_&&(play_bgm("bgm-cycle.mp3?v=2"),add_story("s380"),show_notice(story.s380)),"e"==_.substr(0,1)&&win_fight(_),"e111"==_&&(lskill("k1135"),d.game.next_stage=15),"e112"==_&&(d.game.next_stage=23),"e113"==_&&(d.skill.e113.need+=1,d.game.tree.t53>0&&uskill("k114011")),"e114"==_&&(lskill("k11410"),d.game.next_stage=27),"e115"==_&&(lskill("k11411"),d.game.next_stage=28),"e116"==_&&(lskill("k11418"),add_story("s20"),show_notice(story.s20)),"e117"==_&&(lskill("k114131"),lskill("k114132"),lskill("k11419"),uskill("k11420")),"e118"==_&&(d.skill.k114133.value=1,d.skill.k114134.value==d.skill.k114134.max&&d.skill.k114133.value==d.skill.k114133.max&&(lskill("k114133"),lskill("k114134"),lskill("k114135"),lskill("k114136"),uskill("k11420"),add_story("s27"),show_notice(story.s27))),"e119"==_&&d.skill.k114134.value==d.skill.k114134.max&&d.skill.k114133.value==d.skill.k114133.max&&(lskill("k114133"),lskill("k114134"),lskill("k114135"),lskill("k114136"),uskill("k11420"),add_story("s27"),show_notice(story.s27)),"e1110"==_&&(d.skill.k115112.value=1,add_story("s32"),show_notice(story.s32,35)),"e1111"==_&&(animskele++,uskill("k11513"),add_story("s34"),show_notice(story.s34)),"e1112"==_&&d.skill.k115271.value==d.skill.k115271.max&&(uskill("k115272"),uskill("k115273"),add_story("s41"),show_notice(story.s41)),"e1113"==_&&(lskill("k115272"),lskill("k115273"),uskill("k1114"),d.game.next_stage=39),"e1114"==_&&(d.game.tree.t53>0&&uskill("k116001"),d.skill.e1114.need+=1),"e1115"==_&&(lskill("k11614"),lskill("k11615"),uskill("k11616"),uskill("k11617"),add_story("s48"),show_notice(story.s48)),"e1116"==_&&(lskill("k11625"),1==d.skill.k1136.unlock&&uskill("k11627"),1==d.skill.k117.unlock&&uskill("k11628"),add_story("s54"),show_notice(story.s54)),"e1117"==_&&(lskill("k11640"),lskill("k11641"),lskill("k11642"),lskill("k11643"),uskill("k1114"),d.skill.a111.need-=.5,d.skill.a112.need-=.5,add_story("s63"),show_notice(story.s63,47)),"e1118"==_&&(lskill("k11644"),uskill("k1114"),show_notice(story.s45,47)),"e1119"==_&&(d.skill.k11715.value==d.skill.k11715.max?(lskill("k11715"),uskill("k11714"),add_story("s72"),show_notice(story.s72,49)):d.skill.e1119.need++),"e1120"==_&&(lskill("k11716"),uskill("k11714"),add_story("s72"),show_notice(story.s72,49)),"e1121"==_&&(d.game.tree.t53>0&&uskill("k117181"),1==d.skill.k11718.value&&uskill("k11725"),d.skill.e1121.need+=1),"e1122"==_&&(uskill("k11725"),add_story("s77"),show_notice(story.s77)),"e1123"==_&&(lskill("k11726"),lskill("k11727"),uskill("k11728"),add_story("s82"),show_notice(story.s82)),"e1124"==_&&(lskill("k11729"),lskill("k11730"),lskill("k11731"),lskill("k11730"),uskill("k11728"),add_story("s83"),show_notice(story.s83)),"e1125"==_&&(lskill("k11734"),lskill("k11735"),lskill("k11736"),uskill("k11739"),d.game.temp.goldkey=1,add_story("s89"),show_notice(story.s89)),"e1126"==_&&(lskill("k11737"),lskill("k11738"),uskill("k11739"),add_story("s90"),show_notice(story.s90)),"e1127"==_&&(add_story("s100"),show_notice(story.s100,61)),"e1128"==_&&(close_grp(skill.k11x0033.grp),uskill("k11x0033")),"e1129"==_&&(close_grp(skill.k11x0038.grp),uskill("k11x0038")),"e1130"==_&&(close_grp(skill.k11x0051.grp),uskill("k11x0054"),play_bgm("bgm2.mp3"),d.game.temp.ksnap=1,add_story("s136"),show_notice(story.s136)),"e1131"==_&&(close_grp(skill.k11x0060.grp),uskill("k11x0063"),uskill("k11x0064"),1==i&&uskill("k11x0065"),d.game.temp.kwitch=1,add_story("s126"),show_notice(story.s126)),"e1132"==_&&(close_grp(skill.k11x0207.grp),uskill("k11x0210"),d.game.tree.t8_4>0&&u&&uskill("k11x0211"),d.game.tree.t9_5>0&&x&&uskill("k11x0212"),add_story("s145"),show_notice(story.s145)),"e1133"==_&&(close_grp(skill.k11x0210.grp),uskill("k11x0206"),add_story("s149"),show_notice(story.s149)),"e1134"==_&&(close_grp(skill.k11x0214.grp),uskill("k11x0047"),play_bgm("bgm2.mp3"),uskill("k11x0217")),"e1135"==_&&(close_grp(skill.k11x0216.grp),uskill("k11x02172"),uskill("k11x02173")),"e1136"==_&&(close_grp(skill.k11x0225.grp),uskill("k11x0226"),u&&uskill("k11x02251"),add_story("s169"),show_notice(story.s169)),"e1137"==_&&(close_grp(skill.k11x0229.grp),up_atkspd(.5),uskill("k11x0231"),add_story("s164"),show_notice(story.s164),play_bgm("bgm2.mp3")),"e1138"==_&&(uskill("k11x0502"),d.game.perm.e1138=1,add_story("s364"),show_notice(story.s364)),"e1139"==_&&(uskill("k11x0502"),d.game.perm.e1139=1,add_story("s365"),show_notice(story.s365)),"e1140"==_&&(uskill("k11x0502"),d.game.perm.e1140=1,add_story("s366"),show_notice(story.s366)),"e1141"==_&&(uskill("k11x0503"),d.game.perm.e1141=1,add_story("s367"),show_notice(story.s367)),"e1142"==_&&(uskill("k11x0503"),d.game.perm.e1142=1,add_story("s368"),show_notice(story.s368)),"e1143"==_&&(uskill("k11x0504"),d.game.perm.e1143=1,add_story("s369"),show_notice(story.s369)),"e1144"==_&&(uskill("k11x0504"),d.game.perm.e1144=1,add_story("s370"),show_notice(story.s370)),"e1145"==_&&(uskill("k11x0505"),d.game.perm.e1145=1,add_story("s371"),show_notice(story.s371)),"e1146"==_&&(uskill("k11x0505"),d.game.perm.e1146=1,add_story("s372"),show_notice(story.s372)),"e1147"==_&&(uskill("k11x0507"),d.game.perm.e1147=1,add_story("s373"),show_notice(story.s373)),"e1148"==_&&(uskill("k11x0507"),d.game.perm.e1148=1,add_story("s374"),show_notice(story.s374)),"e1149"==_&&(close_grp(skill.k11x0508.grp),lose_allform(),uskill("k11x0069"),d.skill.k11x0069.value=1,uskill("k11x0508"),add_story("s377"),show_notice(story.s377)),"e1150"==_&&(close_grp(skill.k11x0100.grp),uskill("k11x0103"),uskill("k11x0104")),"e1151"==_&&(close_grp(skill.k11x0105.grp),uskill("k11x0106"),uskill("k11x0106")),"e1152"==_&&(lskill("k11x01101"),uskill("a11906"),uskill("a11907"),uskill("k11x0111"),add_story("s215"),show_notice(story.s215)),"e1153"==_&&(close_grp(skill.k11x0115.grp),uskill("k11x0116"),add_story("s210"),show_notice(story.s210)),"e1154"==_&&(close_grp(skill.k11x0126.grp),uskill("k11x0128"),play_bgm("bgm2.mp3"),k&&uskill("k11x0127"),add_story("s221"),show_notice(story.s221)),"e1155"==_&&(close_grp(skill.k11x0133.grp),uskill("k11x0133"),d.game.tree.t6_1>0&&a&&uskill("k11x0132")),"e1156"==_&&(close_grp(skill.k11x0305.grp),uskill("k11x0305"),d.game.tree.t10_3>0&&uskill("k11x0304"),add_story("s242"),show_notice(story.s242)),"e1157"==_&&(close_grp(skill.k11x0310.grp),uskill("k11x0310"),play_bgm("bgm2.mp3"),$&&uskill("k11x03090"),add_story("s247"),show_notice(story.s247)),"e1158"==_&&(close_grp(skill.k11x0318.grp),uskill("k11x0318"),play_bgm("bgm2.mp3"),d.skill.k120.max+=300,add_story("s256"),show_notice(story.s256)),"e1159"==_&&(close_grp(skill.k11x0335.grp),uskill("k11x0335"),uskill("k11x0336")),"e1160"==_&&(close_grp(skill.k11x0351.grp),uskill("k11x0351"),d.game.perm.manap=1,play_bgm("bgm2.mp3"),add_story("s282"),show_notice(story.s282)),"e1161"==_&&(close_grp(skill.k11x0400.grp),uskill("k11x0402"),uskill("k11x0403"),uskill("k11x0406"),0==d.skill.k11x0401.value&&uskill("k11x0405"),add_story("s285"),show_notice(story.s285)),"e1162"==_&&(close_grp(skill.k11x0404.grp),uskill("k11x0406"),play_bgm("bgm2.mp3"),uskill("k11x0044"),add_story("s291"),show_notice(story.s291)),"e1163"==_&&(close_grp(skill.k11x0408.grp),uskill("k11x0408")),"e1164"==_&&(close_grp(skill.k11x0425.grp),uskill("k11x0425"),d.game.tree.t10_5>0&&uskill("k11x0426"),d.game.perm.ktrea=1,add_story("s309"),show_notice(story.s309)),"e1165"==_&&(close_grp(skill.k11x0434.grp),uskill("k11x0434"),add_story("s313"),show_notice(story.s313)),"e1166"==_&&(close_grp(skill.k11x0448.grp),uskill("k11x0448"),d.skill.k11x0449.value=1,add_story("s332"),show_notice(story.s332)),"e1167"==_&&(close_grp(skill.k11x0452.grp),uskill("k11x0453"),uskill("k11x0454"),add_story("s336"),show_notice(story.s336)),"e1168"==_&&(close_grp(skill.k11x0457.grp),d.game.temp.reanim++,d.game.temp.reanim>=5?(uskill("k11x0460"),add_story("s341"),show_notice(story.s341)):(uskill("k11x0457"),anctrack&&(d.skill.k11x0457.auto=1),d.skill.e1168.need=1500+600*d.game.temp.reanim-30*d.game.tree.t9_5,add_story("s340"),show_notice(story.s340))),"e1169"==_&&(close_grp(skill.k11x0465.grp),uskill("k11x0465"),add_story("s345"),show_notice(story.s345)),"e1170"==_&&(close_grp(skill.k11x0465.grp),uskill("k11x0510"),add_story("s379"),show_notice(story.s379)),"a998"==_&&(show_notice(story.n998),minus_xp(round(.05*d.skill.xp.curr)),defeated()),"a999"==_?(show_notice(story.n999),minus_xp(round(.02*d.skill.xp.curr)),defeated()):"a"==_.substr(0,1)?attack(_):"b"==_.substr(0,1)&&eattack(_)}function defeated(){lose_cstat(),defeating=1,""!=last_room&&(d.skill[last_room].auto=0,d.skill[last_room].running=0,d.skill[last_room].curr=0),d.skill.a999.value=0,d.skill.a999.curr=0,d.skill.a999.running=0,"e119"==d.game.battle?d.skill.k114134.value--:"e1112"==d.game.battle?d.skill.k115271.value--:"e1119"==d.game.battle?d.skill.k11715.value--:""!=last_room&&(d.skill[last_room].value=0),"e1111"==d.game.battle&&36==d.game.stage&&uskill("k1114"),"e1127"==d.game.battle&&up_skill("k1193"),d.game.battle=null,cleargm()}function explore_go(_,l,k){1==d.skill[k].unlock&&(d.skill[k].curr+=l,checkmax_c(k)),d.skill[_].value=0}function checkmax_v(_){d.skill[_].value>d.skill[_].max&&(d.skill[_].value=d.skill[_].max)}function checkmax_c(_){d.skill[_].curr>d.skill[_].need&&(d.skill[_].curr=d.skill[_].need)}function uskill(_){var l=d.skill[_];null==l&&(l=init_d(1).skill[_]),null==l&&alert("Stage-"+d.game.stage+". Missing event: "+_),l.unlock=1,"k1114"!=_&&(l.value=0),null!=l.enemy&&prep_combat(_)}function lskill(_){var l=d.skill[_];l.unlock=0,l.running=0,l.curr=0,"b"!=_.substring(0,1)&&(l.auto=0),null!=gebi("gubox-"+_)&&(gebi("gubox-"+_).innerHTML="",gebi("gmain").removeChild(gebi("gubox-"+_)))}function lbatk(){for(var _=Object.keys(d.skill),l=0;l<_.length;l++)null==skill[_[l]]&&alert("Stage-"+d.game.stage+". Missing enemy attack: "+_[l]),"b"==_[l].substring(0,1)&&lskill(_[l])}function close_grp(_){for(var l=Object.keys(d.skill),k=0;k<l.length;k++)null!=skill[l[k]]&&null!=skill[l[k]].grp&&skill[l[k]].grp==_&&null==skill[l[k]].gold&&lskill(l[k])}function prep_combat(_){if(null==d.game.battle){cleargm();var l=Object.keys(d.skill);1==d.skill.k115.value&&(d.skill.k110.auto=1,d.skill.k110.running=1),1==d.skill.k1224.value&&(d.skill.k120.auto=1,d.skill.k120.running=1);for(var k=0;k<l.length;k++)if(("a"==l[k].substring(0,1)||"b"==l[k].substring(0,1))&&(d.skill[l[k]].value=0,d.skill[l[k]].curr=0),"a"==l[k].substring(0,1)){var s=d.game.temp["manuala-"+l[k]];null!=s&&(d.skill[l[k]].auto=2==s?1:0)}if(lbatk(),lskill("b111"),lskill("b112"),null!=d.skill[_].atk)for(var $=Object.keys(d.skill[_].atk),i=0;i<$.length;i++)uskill($[i]);null!=d.skill[_].curr2&&(d.skill[_].curr2=0),d.skill[_].curr=0,d.game.battle=_,getcstat(_,0)}}function getcstat(_,l){cstat[l][0]=0==l?d.skill[_].need:d.skill[_].curr,cstat[l][1]=d.skill.k110.max,cstat[l][2]=d.skill.k120.max,cstat[l][3]=d.skill.st.max}function gencstat(){var _='<br><br><span class="red">Last Combat Statistics</span><br><div class="smaller"><table class="tabatk smaller"><tr><th>Stat</th><th>Before</th><th>After</th><th>Dealt/<br>Received</th></tr>';_+="<tr><td>Enemy HP</td><td>"+cstat[0][0]+"</td><td>"+(cstat[0][0]-cstat[1][0])+"</td><td>"+cstat[1][0]+"</td></tr>";var l=cstat[1][1]-cstat[0][1];_+="<tr><td>Player Max Blood</td><td>"+cstat[0][1]+"</td><td>"+cstat[1][1]+"</td><td>"+(l<0?l:"+"+l)+"</td></tr>";var l=cstat[1][2]-cstat[0][2];_+="<tr><td>Player Max Sanity</td><td>"+cstat[0][2]+"</td><td>"+cstat[1][2]+"</td><td>"+(l<0?l:"+"+l)+"</td></tr>";var l=cstat[1][3]-cstat[0][3];return _+="<tr><td>Player Max Spirit</td><td>"+cstat[0][3]+"</td><td>"+(cstat[0][3]-cstat[1][3])+"</td><td>"+(l<0?l:"+"+l)+"</td></tr>",_+="</table></div>"}function lose_allform(){d.skill.k116.unlock=0,d.skill.k117.unlock=0,d.skill.k1136.unlock=0,d.skill.k11616.unlock=0,d.skill.k11x0069.unlock=0,d.skill.k11x0044.unlock=0,d.skill.k11x0045.unlock=0,d.skill.k11x0046.unlock=0,d.skill.k11x0047.unlock=0,d.skill.k11x0066.unlock=0,d.skill.k11x0067.unlock=0,d.skill.k11x0068.unlock=0,d.skill.k116.value=0,d.skill.k117.value=0,d.skill.k1136.value=0,d.skill.k11616.value=0,d.skill.k11x0069.value=0,d.skill.k11x0044.value=0,d.skill.k11x0045.value=0,d.skill.k11x0046.value=0,d.skill.k11x0047.value=0,d.skill.k11x0066.value=0,d.skill.k11x0067.value=0,d.skill.k11x0068.value=0}function lose_alignment(){d.skill.k11x0034.unlock=0,d.skill.k11x0035.unlock=0}function progress_check(){var _=d.skill;if(1==d.skill.k1114.unlock&&(null!=d.game.battle?(_.k1114.running=0,_.k1114.auto=0):d.game.tree.t56>0&&(_.k1114.running=1,_.k1114.auto=1)),(d.game.tree.t54>0||d.game.tree.t44>0)&&null!=d.game.battle){var l=d.game.tree.t54;("e113"==d.game.battle||"e1114"==d.game.battle||"e1121"==d.game.battle)&&(l+=d.game.tree.t44);var k=d.game.battle;retext("gutext-"+k,skill[k].text+' <span style="color:#00cc00;"> (+'+l+" xp)</span>")}var s=1;1==d.skill.k12271.value&&(s+=1),retext("gutext-k1227","Gain sanity (+"+s+").");var s=3;1==d.skill.k11191.value&&(s+=3),d.game.tree.t24>0&&(s+=d.game.tree.t24),retext("k1119","Exploration progress (+"+s+"s).");var s=0;if(d.game.tree.t6_8>0&&(s=50*d.game.tree.t6_8),retext("gutext-k1241","Gain sanity (+"+s+")."),null==d.game.temp&&init_temp(),d.game.tree.t7_4>0&&1==anctrack&&null==d.game.battle&&null!=d.game.temp&&null!=d.game.temp.retrace&&0==d.game.temp.retrace)for(var $=0;$<d.game.perm.mem.lrun.length;$++){var i=d.game.perm.mem.lrun[$];if(null!=i&&recordable(i)){if("k11x0042"==i||"k11x0043"==i){var e=d.game.perm["wellact"+(d.game.temp.merch+1)];null!=e&&void 0!=e&&(i=e)}if("k11x0501"==i||"k11x0506"==i){var e=d.game.perm["arenach"+(d.game.temp.merch+1)];null!=e&&void 0!=e&&(i=e)}d.game.temp.retrace=i,d.skill[i].auto=1,"k11x0042"!=i&&"k11x0043"!=i&&"k11x0050"!=i&&"k11x0054"!=i&&"k11x0055"!=i&&"k11x0057"!=i&&"k11x0065"!=i&&"k11x0233"!=i&&"k11x0500"!=i&&"k11x0506"!=i&&delete d.game.perm.mem.lrun[$],"k11x0063"==i&&delete d.game.perm.mem.lrun.push(i),$==d.game.perm.mem.lrun.length-1&&gebi("btnanc").click();break}}if(1==d.skill.k11191.value&&retext("gutext-k1119","Exploration progress (+6s)."),d.game.tree.t10_14>0&&d.game.stage>73){var x=d.skill.k1242;1==x.unlock&&x.value!=x.max&&0==x.running&&d.skill.k120.value/d.skill.k120.max*100<=5&&(x.running=1);var x=d.skill.k1243;1==x.unlock&&x.value!=x.max&&0==x.running&&d.skill.k110.value/d.skill.k110.max*100<=5&&(x.running=1)}d.game.stage>=73&&(d.skill.k110.max<=0&&0==losing&&lose_byblood(),d.skill.k120.max<=0&&0==losing&&lose_bysanity(),(d.skill.st.value<=0||d.skill.st.max<=0)&&0==losing&&lose_byspirit())}function crunpush(_){try{d.game.perm.mem.crun.includes(_)||(d.game.perm.mem.crun.push(_),retext("lrm",_))}catch(l){return 0}}function recordable(_){if(null==d.skill[_]||void 0==_)return 0;if(1==d.skill[_].unlock&&0==d.skill[_].curr&&d.skill[_].value!=d.skill[_].max&&(null!=skill[_].room||"k11x0066"==_||"k11x0067"==_||"k11x0068"==_||"k11x0069"==_)&&null==skill[_].drain&&null==skill[_].isnode&&null==skill[_].farmable){if("k11401"==_||"k11600"==_||"k11718"==_||"k11x000"==_||"k11x0036"==_||"k114011"==_||"k116001"==_||"k117181"==_)return 0;if(d.game.tree.t10_8>=1);else if("k11x001"==_||"k11x0011"==_)return 0;return"k11521"==_||_==last_room&&1==defeating?0:1}return 0}function stage_check(){if(d.skill.k116.unlock||d.skill.k11x0066.unlock,d.skill.k117.unlock||d.skill.k11x0067.unlock,d.skill.k1136.unlock||d.skill.k11x0068.unlock,d.skill.k11616.unlock,d.skill.k11x0034.unlock,d.skill.k11x0035.unlock,d.skill.k11x0044.unlock,d.skill.k11x0045.unlock,d.skill.k11x0046.unlock,d.skill.k11x0047.unlock,d.skill.k11x0069.unlock,1!=d.game.paused){0!=d.game.next_stage&&(d.game.stage=d.game.next_stage,d.game.next_stage=0);var _=d.game.stage,l=d.skill;if(0==_&&(add_story("s0"),show_notice(story.s0,1),play_bgm("bgm.mp3")),_<=1&&l.k110.value>=3&&(uskill("k111"),d.game.next_stage=2),2==_&&l.k110.value>=5&&l.k111.value>=1&&(uskill("k112"),uskill("k113"),uskill("k114"),d.game.next_stage=3),3==_&&l.k110.max>=12&&(uskill("k115"),d.game.tree.t51>0&&(d.skill.k115.value=1),d.game.next_stage=4),4==_&&l.k110.max>=16&&(l.k111.unlock=1,skill.k111.title="Awareness II",l.k111.max=2,l.k111.cost={k110:18},l.k111.need=6-d.game.tree.t47,l.k111.need<.2&&(l.k111.need=.2),d.game.next_stage=5,cleargm()),5==_&&2==l.k111.value&&(uskill("k116"),uskill("k117"),add_story("s1"),show_notice(story.s1,6)),6==_&&1==l.k116.value&&(uskill("k118"),uskill("k119"),d.game.next_stage=7),6==_&&1==l.k117.value&&(uskill("k1111"),uskill("k1112"),d.game.next_stage=7),7==_&&l.k118.value>2&&l.k119.value>2&&(uskill("k1110"),add_story("s2a"),show_notice(story.s2a,8)),7==_&&l.k1111.value>2&&l.k1112.value>2&&(uskill("k1113"),add_story("s2b"),show_notice(story.s2b,8)),8==_&&l.k1114.value>2&&(lskill("k1114"),uskill("k1115"),add_story("s3"),show_notice(story.s3,9)),9==_&&l.k1115.value>0&&(d.game.gtab_open=1,d.game.tab.open11=1,d.game.tab.open12=1,uskill("k120"),d.game.tab.curr1=2,switch_tab(2),add_story("s4"),show_notice(story.s4,10)),10==_&&l.k120.value>1&&(uskill("k1114"),uskill("k121"),uskill("k122"),uskill("k123"),d.game.next_stage=11),11==_&&l.k1114.value>6&&(uskill("k1131"),uskill("k1132"),add_story("s5"),show_notice(story.s5,12)),12==_&&l.k1114.value>10&&(lskill("k1114"),uskill("k1133"),uskill("k1134"),add_story("s6"),show_notice(story.s6,13)),13==_&&l.k1114.value>14&&(lskill("k1114"),uskill("k1135"),add_story("s7"),show_notice(story.s7,14)),15==_&&(lskill("k1135"),uskill("k1136"),uskill("k1137"),add_story("s8"),show_notice(story.s8,16)),17==_&&(uskill("k1138"),add_story("s9"),show_notice(story.s9,18)),18==_&&(uskill("k1114"),d.game.next_stage=19),19==_&&l.k1114.value>21&&(lskill("k1114"),uskill("k1139"),add_story("s10"),show_notice(story.s10,20)),20==_&&l.k1114.value>32&&(1==d.skill.k116.unlock&&(uskill("k11311"),add_story("s11"),show_notice(story.s11,21)),d.game.next_stage=21),21==_&&l.k1114.value>40&&(lskill("k1114"),uskill("k1140"),1==d.skill.k1136.unlock&&uskill("a113"),add_story("s12"),show_notice(story.s12,22)),23==_&&(uskill("k1114"),lskill("k1140"),uskill("k11401"),add_story("s13"),show_notice(story.s13,24)),24==_&&l.k1114.value>45&&(lskill("k1114"),1==d.skill.k116.unlock?(uskill("k11410"),add_story("s14a"),show_notice(story.s14a,26)):(uskill("k11411"),add_story("s14b"),show_notice(story.s14b,26))),27==_&&(uskill("k1114"),lskill("k11410"),uskill("a114"),add_story("s15b"),show_notice(story.s15b,29)),28==_&&(uskill("k1114"),lskill("k11411"),1==d.skill.k117.unlock?(uskill("a115"),add_story("s15a"),show_notice(story.s15a,29)):(add_story("s15c"),show_notice(story.s15c,29))),29==_&&l.k1114.value>50&&(lskill("k1114"),uskill("k11412"),uskill("k11413"),uskill("k11414"),add_story("s16"),show_notice(story.s16,30)),30==_&&l.k1114.value>55&&(lskill("k1114"),uskill("k11510"),uskill("k11513"),1==d.skill.k1136.unlock&&uskill("k11512"),1==d.skill.k116.unlock&&uskill("k11511"),add_story("s28"),show_notice(story.s28,31)),32==_&&(uskill("k115111"),uskill("k115112"),lskill("k11510"),lskill("k11512"),d.game.next_stage=33),35==_&&(lskill("k11513"),uskill("e1111"),add_story("s33"),show_notice(story.s33,36)),36==_&&l.k1114.value>60&&(lskill("k1114"),lskill("k11513"),uskill("k11520"),add_story("s39"),show_notice(story.s39,37)),37==_&&d.game.tree.t59>0){var k=1;1==d.skill.k11520.unlock&&d.skill.k11520.value!=d.skill.k11520.max&&(k=0),1==d.skill.k11524.unlock&&d.skill.k11524.value!=d.skill.k11524.max&&(k=0),1==d.skill.k115221.unlock&&d.skill.k115221.value!=d.skill.k115221.max&&(k=0),1==d.skill.k115222.unlock&&d.skill.k115222.value!=d.skill.k115222.max&&(k=0),1==d.skill.k115223.unlock&&d.skill.k115223.value!=d.skill.k115223.max&&(k=0),1==d.skill.k115231.unlock&&d.skill.k115231.value!=d.skill.k115231.max&&(k=0),1==d.skill.k115232.unlock&&d.skill.k115232.value!=d.skill.k115232.max&&(k=0),1==d.skill.k115233.unlock&&d.skill.k115233.value!=d.skill.k115233.max&&(k=0),1==d.skill.k11525.unlock&&d.skill.k11525.value!=d.skill.k11525.max&&(k=0),1==d.skill.k11526.unlock&&d.skill.k11526.value!=d.skill.k11526.max&&(k=0),1==k&&(d.skill.k11521.auto=1)}37==_&&l.k1114.value>65&&(lskill("k1114"),uskill("k115271"),add_story("s40"),show_notice(story.s40,38)),39==_&&(uskill("k1114"),add_story("s42"),show_notice(story.s42,40)),40==_&&l.k1114.value>70&&(uskill("k11600"),1==d.skill.k116.unlock&&1==d.skill.k116.unlock&&uskill("k11601"),add_story("s43"),show_notice(story.s43,41)),41==_&&l.k1114.value>75&&(lskill("k1114"),uskill("k11610"),uskill("k11611"),uskill("k11612"),1==d.skill.k1136.unlock&&uskill("k11613"),add_story("s44"),show_notice(story.s44,42)),43==_&&(uskill("k1114"),d.game.next_stage=44),44==_&&l.k1114.value>80&&(lskill("k1114"),uskill("k11630"),uskill("k11631"),uskill("k11636"),1==d.skill.k117.unlock&&uskill("k11632"),1==d.skill.k116.unlock&&uskill("k11633"),1==d.skill.k1136.unlock&&uskill("k11634"),1==d.skill.k11616.unlock&&uskill("k11635"),add_story("s56"),show_notice(story.s56,45)),45==_&&l.k1114.value>85&&(lskill("k1114"),uskill("k11637"),1==d.skill.k116.unlock&&uskill("k11638"),1==d.skill.k1136.unlock&&uskill("k11639"),add_story("s58"),show_notice(story.s58,46)),46==_&&l.k1114.value>90&&(lskill("k1114"),uskill("k11640"),uskill("k11643"),1==d.skill.k1136.unlock&&uskill("k11641"),1==d.skill.k117.unlock&&uskill("k11642"),add_story("s62"),show_notice(story.s62,47)),47==_&&l.k1114.value>95&&(uskill("k1240"),add_story("s67"),show_notice(story.s67,48)),48==_&&l.k1114.value>=100&&(uskill("k11710"),uskill("k11713"),1==d.skill.k116.unlock&&uskill("k11711"),1==d.skill.k1136.unlock&&uskill("k11712"),add_story("s68"),show_notice(story.s68,48.5)),49==_&&uskill("k11714"),51==_&&lskill("k11717"),55==_&&(add_story("s94"),show_notice(story.s94,56)),56==_&&(add_story("s95"),show_notice(story.s95,57)),57==_&&(add_story("s96"),show_notice(story.s96,58)),58==_&&(add_story("s97"),show_notice(story.s97,59)),59==_&&(add_story("s98"),show_notice(story.s98,60)),60==_&&(lose_plane(),d.game.next_stage=62),61==_&&(win_plane(),d.game.next_stage=63),(l.k1114.value>=100||_>75)&&(lskill("k1114"),lskill("k11381"),lskill("k1138"),lskill("k1119"),lskill("k11311")),70==_&&0==seenportal&&(add_story("s101"),show_notice(story.s101,71),uskill("a999")),70==_&&1==seenportal&&(add_story("s101a"),lskill("st"),reset_spirit(),play_bgm("bgm2-prologue.mp3"),show_notice(story.s101a,75),lskill("k11617"),lskill("k11381"),lskill("k1138"),lskill("k1119"),lskill("k11311"),lskill("k11401"),lskill("k11600"),lskill("k11718"),lskill("k1114"),uskill("a999")),71==_&&(add_story("s102"),show_notice(story.s102,72)),73==_&&(lskill("st"),reset_spirit(),add_story("s103"),show_notice(story.s103,74),play_bgm("bgm2-prologue.mp3")),74==_&&(add_story("s104"),show_notice(story.s104,75)),75==_&&(d.game.tree.t9_7>0&&(skill.k11x000.text='Approach the trader <span style="color:yellow;">(Apply Black Market #'+(d.game.temp.merch+1)+")</span>"),uskill("k11x000"),d.game.temp.merch+=1,uskill("k11x001"),d.game.tree.t7_4>0&&uskill("k11x0011"),0==seenportal?(add_story("s105"),show_notice(story.s105,76)):d.game.stage=76,cleargm(),seenportal=1),77==_&&(apply_tree2(),add_story("s106"),show_notice(story.s106,78)),78==_&&(show_notice(story.s107,79),uskill("k11rain"),d.skill.k11rain.auto=1,play_bgm("bgm2.mp3")),79==_&&(uskill("k11x002"),d.skill.k11x002.value=0,d.skill.k11x002.curr=0,d.game.next_stage=80,cleargm()),81==_&&(d.game.stage=60),82==_&&(lskill("a999"),uskill("k11x0501"),add_story("s173"),show_notice(story.s173,83))}}